
    <script>
      ;(function () {
        /*
              BE CAREFUL!
              This code is not compiled by our transforms
              so it needs to stay compatible with older browsers.
            */

        var activeSurveyBanner = null
        var socialBanner = null
        var snoozeStartDate = null
        var today = new Date()

        function addTimes(date, days) {
          var time = new Date(date)
          time.setDate(time.getDate() + days)
          return time
        }

        activeSurveyBanner = {
          storageId: 'reactjs_banner_2021survey',
          normalHeight: 50,
          smallHeight: 75,
          campaignStartDate: '2021-08-16T00:00:00Z', // the Z is for UTC
          campaignEndDate: '2021-08-31T00:00:00Z', // the Z is for UTC
          snoozeForDays: 7
        }

        if (activeSurveyBanner) {
          try {
            if (localStorage[activeSurveyBanner.storageId]) {
              snoozeStartDate = new Date(
                parseInt(localStorage.getItem(activeSurveyBanner.storageId), 10)
              )
            }
          } catch (err) {
            // Ignore.
          }

          try {
            // If it's too early or long past the campaign, don't show the banner:
            if (
              today < new Date(activeSurveyBanner.campaignStartDate) ||
              today > new Date(activeSurveyBanner.campaignEndDate)
            ) {
              activeSurveyBanner = null
              // If we're in the campaign window, but the snooze has been set and it hasn't expired:
            } else if (
              snoozeStartDate &&
              addTimes(snoozeStartDate, activeSurveyBanner.snoozeForDays) >=
                today
            ) {
              activeSurveyBanner = null
            }
          } catch (err) {
            // Ignore.
          }
        }

        activeSocialBanner = {
          normalHeight: 50,
          smallHeight: 75
        }

        function updateStyles() {
          if (activeSurveyBanner) {
            document.documentElement.style.setProperty(
              '--survey-banner-display',
              'block'
            )
            document.documentElement.style.setProperty(
              '--survey-banner-height-normal',
              activeSurveyBanner.normalHeight + 'px'
            )
            document.documentElement.style.setProperty(
              '--survey-banner-height-small',
              activeSurveyBanner.smallHeight + 'px'
            )
          } else {
            document.documentElement.style.setProperty(
              '--survey-banner-display',
              'none'
            )
            document.documentElement.style.setProperty(
              '--survey-banner-height-normal',
              '0px'
            )
            document.documentElement.style.setProperty(
              '--survey-banner-height-small',
              '0px'
            )
          }
          if (activeSocialBanner) {
            document.documentElement.style.setProperty(
              '--social-banner-display',
              'block'
            )
            document.documentElement.style.setProperty(
              '--social-banner-height-normal',
              activeSocialBanner.normalHeight + 'px'
            )
            document.documentElement.style.setProperty(
              '--social-banner-height-small',
              activeSocialBanner.smallHeight + 'px'
            )
          } else {
            document.documentElement.style.setProperty(
              '--social-banner-display',
              'none'
            )
            document.documentElement.style.setProperty(
              '--social-banner-height-normal',
              '0px'
            )
            document.documentElement.style.setProperty(
              '--social-banner-height-small',
              '0px'
            )
          }
        }

        updateStyles()
        window.__dismissSurveyBanner = function () {
          if (activeSurveyBanner) {
            try {
              localStorage.setItem(
                activeSurveyBanner.storageId,
                Date.now().toString()
              )
            } catch (err) {
              // Ignore.
            }
            // Don't show for next navigations within the session.
            activeSurveyBanner = null
            updateStyles()
          }
        }
      })()
    </script>
    <div id="___gatsby">
      <div style="outline: none" tabindex="-1" id="gatsby-focus-wrapper">
        <div class="css-190hivd">
          <header class="css-19rsoyj">
            <div class="css-1loxuh3">
              <div class="css-tctv7l">
                <div style="position: relative">
                  <div class="css-ebdw9u">
                    <div class="css-lpiycv">
                      <a
                        href="https://surveys.savanta.com/survey/selfserve/21e3/210643?list=2"
                        target="_blank"
                        rel="noopener"
                        class="css-t4a06n"
                        ><svg
                          xmlns="http://www.w3.org/2000/svg"
                          preserveAspectRatio="xMidYMid meet"
                          viewBox="0 0 134 58"
                          class="css-w4tulb"
                        >
                          <g>
                            <path
                              fill="#ffffff"
                              d="m60.25002,1.61335l32.24974,1.38664l25.24993,5.24999l10.99997,7.99998l3.74999,8.24998l-1.5,8.24998l-6.24998,5.24999l-10.49997,5.24999l-8.99998,2.24999l0.25,2.99999l4.99999,3.74999c0.00018,0.11336 8.50016,3.11335 8.50016,3.11335c0,0 -11.49997,0.5 -11.50015,0.38664c0.00018,0.11336 -13.24979,-1.38664 -13.24996,-1.5c0.00018,0.11336 -4.49981,-2.63663 -4.49999,-2.74999c0.00018,0.11336 -2.74981,-1.63664 -2.74999,-1.75c0.00018,0.11336 -7.9998,1.36336 -7.99998,1.25c0.00018,0.11336 -25.24976,1.61336 -25.24993,1.5c0.00018,0.11336 -21.99976,-1.38664 -21.99994,-1.5c0.00018,0.11336 -17.74978,-3.38663 -17.74995,-3.49999c0.00018,0.11336 -9.7498,-6.38662 -9.74997,-6.49998c0.00018,0.11336 -3.24982,-6.38662 -3.24999,-6.49998c0.00018,0.11336 2.00017,-9.88662 1.99999,-9.99997c0.00018,0.11336 7.75016,-9.38662 7.74998,-9.49997c0.00018,0.11336 19.75012,-9.38662 19.74995,-9.49997c0.00018,0.11336 23.50012,-4.13663 23.49994,-4.24999"
                            ></path>
                            <rect
                              transform="rotate(-5 37.25019073486327,27.62502670288089)"
                              height="18"
                              width="18"
                              y="18.62503"
                              x="25.7502"
                              fill="#ccc"
                            ></rect>
                            <rect
                              transform="rotate(-5 66.00012207031251,28.125024795532198)"
                              height="18"
                              width="18"
                              y="19.37502"
                              x="56.00012"
                              fill="#ccc"
                            ></rect>
                            <rect
                              transform="rotate(-5 91.75005340576159,25.875030517578093)"
                              height="18"
                              width="18"
                              y="19"
                              x="85.00004"
                              fill="#ccc"
                            ></rect>
                            <g
                              transform="translate(0,58) scale(0.10000000149011612,-0.10000000149011612) "
                            >
                              <path
                                fill="#ffffff"
                                d="m570,574c-14,-2 -65,-9 -115,-15c-139,-18 -275,-69 -356,-134c-75,-60 -115,-163 -88,-226c41,-99 236,-151 564,-150c122,1 210,6 246,14c51,13 57,12 67,-4c28,-44 237,-67 326,-35l40,14l-45,6c-86,13 -100,18 -130,44c-29,24 -30,27 -13,34c18,8 18,8 0,5c-53,-6 -4,-72 69,-93c49,-14 49,-14 -51,-9c-117,7 -159,16 -189,45c-18,17 -26,18 -56,9c-18,-5 -114,-13 -211,-16c-165,-5 -197,-3 -363,23c-207,34 -284,116 -224,241c57,119 236,203 479,225c197,18 545,-20 671,-74c110,-47 157,-153 104,-234c-14,-22 -97,-73 -150,-92c-16,-6 -23,-11 -15,-11c25,-2 133,54 162,84c59,59 56,147 -9,211c-33,34 -97,68 -146,79c-124,27 -166,35 -257,44c-124,12 -275,19 -310,15z"
                              ></path>
                              <path
                                fill="#1a1a1a"
                                d="m377.00009,403.25c-1,-10 -16,-47 -34,-82l-33,-63l-21,36c-24,40 -29,42 -56,21c-21,-16 -18,-22 43,-90l33,-38l19,24c10,13 35,49 56,79c20,30 48,67 62,82c13,15 23,30 20,32c-2,2 -23,7 -46,11c-38,6 -43,4 -43,-12z"
                              ></path>
                              <path
                                fill="#1a1a1a"
                                d="m674.7493,403c-1,-10 -16,-47 -34,-82l-33,-63l-21,36c-24,40 -29,42 -56,21c-21,-16 -18,-22 43,-90l33,-38l19,24c10,13 35,49 56,79c20,30 48,67 62,82c13,15 23,30 20,32c-2,2 -23,7 -46,11c-38,6 -43,4 -43,-12z"
                              ></path>
                              <path
                                fill="#1a1a1a"
                                d="m965.49854,402.99999c-1,-10 -16,-47 -34,-82l-33,-63l-21,36c-24,40 -29,42 -56,21c-21,-16 -18,-22 43,-90l33,-38l19,24c10,13 35,49 56,79c20,30 48,67 62,82c13,15 23,30 20,32c-2,2 -23,7 -46,11c-38,6 -43,4 -43,-12z"
                              ></path>
                            </g>
                          </g></svg></a
                      ><span class="css-lcvzl3"
                        ><span class="css-1e8x600"
                          >We want to hear from you!</span
                        ><a
                          href="https://surveys.savanta.com/survey/selfserve/21e3/210643?list=2"
                          target="_blank"
                          rel="noopener"
                          class="css-15dgx4v"
                          ><span class="css-1og5p3u"
                            >Take our 2021 Community Survey!</span
                          ><svg
                            x="0px"
                            y="0px"
                            viewBox="0 0 100 100"
                            width="15"
                            height="15"
                            class="css-1ookbab"
                          >
                            <path
                              fill="currentColor"
                              d="
M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
"
                            ></path>
                            <polygon
                              fill="currentColor"
                              points="
45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
14.9 62.8,22.9 71.5,22.9
"
                            ></polygon></svg></a
                      ></span>
                      <div class="css-p5tzjw">
                        <button class="css-w59gkz">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 5.8 5.8"
                            alt="close"
                            class="css-s3feo0"
                          >
                            <path
                              d="M5.8 5.16L3.54 2.9 5.8.65 5.16 0 2.9 2.26.65 0 0 .65 2.26 2.9 0 5.16l.65.64L2.9 3.54 5.16 5.8l.64-.64z"
                              fill="currentColor"
                            ></path>
                          </svg>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="css-3a7994">
                    <div class="css-lpiycv">
                      <span class="css-714dwk"
                        ><span class="css-1e8x600">Support Ukraine üá∫üá¶ </span
                        ><a
                          href="https://opensource.fb.com/support-ukraine"
                          target="_blank"
                          rel="noopener"
                          class="css-15dgx4v"
                          ><span class="css-1og5p3u"
                            >Help Provide Humanitarian Aid to Ukraine.</span
                          ></a
                        ></span
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="css-tctv7l">
              <div class="css-iiezwn">
                <a class="css-4ivotw" href="/"
                  ><img
                    src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K"
                    alt=""
                    height="20"
                  /><span class="css-184keb2">React</span></a
                >
                <nav class="css-79txt3">
                  <a class="css-li68ai" href="/docs/getting-started.html"
                    >Docs<span class="css-2y24fj"></span></a
                  ><a class="css-hobwqm" href="/tutorial/tutorial.html"
                    >Tutorial</a
                  ><a class="css-hobwqm" href="/blog/">Blog</a
                  ><a class="css-hobwqm" href="/community/support.html"
                    >Community</a
                  >
                </nav>
                <form class="css-7vmqep">
                  <input
                    type="search"
                    id="algolia-doc-search"
                    placeholder="Search"
                    aria-label="Search docs"
                    class="css-7dpbpx"
                  />
                </form>
                <div class="css-nypjs8">
                  <a class="css-zvm479" href="/versions">v<!-- -->18.1.0</a
                  ><a class="css-1upvlu3" href="/languages"
                    ><svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                    >
                      <path d="M0 0h24v24H0z" fill="none"></path>
                      <path
                        d=" M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z "
                        class="css-c4d79v"
                      ></path>
                    </svg>
                    <span class="css-1rsw1pf">Languages</span></a
                  ><a
                    href="https://github.com/facebook/react/"
                    target="_blank"
                    rel="noopener"
                    class="css-6oo1gu"
                    >GitHub<svg
                      x="0px"
                      y="0px"
                      viewBox="0 0 100 100"
                      width="15"
                      height="15"
                      class="css-19vhmgv"
                    >
                      <path
                        fill="currentColor"
                        d="
M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
"
                      ></path>
                      <polygon
                        fill="currentColor"
                        points="
45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
14.9 62.8,22.9 71.5,22.9
"
                      ></polygon></svg
                  ></a>
                </div>
              </div>
            </div>
          </header>
          <div class="css-1tv5sxm css-15lkjjo">
            <div class="css-2irel css-95xunl">
              <div class="css-12vsfho">
                <div class="css-tctv7l">
                  <div class="css-10335ra">
                    <article class="css-174qq1k">
                      <header class="css-hgc6lu">
                        <h1 class="css-1cblbkl">Hooks FAQ</h1>
                      </header>
                      <div class="css-124oy3v">
                        <div class="css-15weewl">
                          <p>
                            <em>Hooks</em> are a new addition in React 16.8.
                            They let you use state and other React features
                            without writing a class.
                          </p>
                          <p>
                            This page answers some of the frequently asked
                            questions about
                            <a href="/docs/hooks-overview.html">Hooks</a>.
                          </p>
                          <!--
if you ever need to regenerate this, this snippet in the devtools console might help:

$$('.anchor').map(a =>
`${' '.repeat(2 * +a.parentNode.nodeName.slice(1))}` +
`[${a.parentNode.textContent}](${a.getAttribute('href')})`
).join('\n')
-->
                          <ul>
                            <li>
                              <p>
                                <strong
                                  ><a href="#adoption-strategy"
                                    >Adoption Strategy</a
                                  ></strong
                                >
                              </p>
                              <ul>
                                <li>
                                  <a
                                    href="#which-versions-of-react-include-hooks"
                                    >Which versions of React include Hooks?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#do-i-need-to-rewrite-all-my-class-components"
                                    >Do I need to rewrite all my class
                                    components?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#what-can-i-do-with-hooks-that-i-couldnt-with-classes"
                                    >What can I do with Hooks that I couldn‚Äôt
                                    with classes?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#how-much-of-my-react-knowledge-stays-relevant"
                                    >How much of my React knowledge stays
                                    relevant?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#should-i-use-hooks-classes-or-a-mix-of-both"
                                    >Should I use Hooks, classes, or a mix of
                                    both?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#do-hooks-cover-all-use-cases-for-classes"
                                    >Do Hooks cover all use cases for
                                    classes?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#do-hooks-replace-render-props-and-higher-order-components"
                                    >Do Hooks replace render props and
                                    higher-order components?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#what-do-hooks-mean-for-popular-apis-like-redux-connect-and-react-router"
                                    >What do Hooks mean for popular APIs like
                                    Redux connect() and React Router?</a
                                  >
                                </li>
                                <li>
                                  <a href="#do-hooks-work-with-static-typing"
                                    >Do Hooks work with static typing?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#how-to-test-components-that-use-hooks"
                                    >How to test components that use Hooks?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#what-exactly-do-the-lint-rules-enforce"
                                    >What exactly do the lint rules enforce?</a
                                  >
                                </li>
                              </ul>
                            </li>
                            <li>
                              <p>
                                <strong
                                  ><a href="#from-classes-to-hooks"
                                    >From Classes to Hooks</a
                                  ></strong
                                >
                              </p>
                              <ul>
                                <li>
                                  <a
                                    href="#how-do-lifecycle-methods-correspond-to-hooks"
                                    >How do lifecycle methods correspond to
                                    Hooks?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#how-can-i-do-data-fetching-with-hooks"
                                    >How can I do data fetching with Hooks?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#is-there-something-like-instance-variables"
                                    >Is there something like instance
                                    variables?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#should-i-use-one-or-many-state-variables"
                                    >Should I use one or many state
                                    variables?</a
                                  >
                                </li>
                                <li>
                                  <a href="#can-i-run-an-effect-only-on-updates"
                                    >Can I run an effect only on updates?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#how-to-get-the-previous-props-or-state"
                                    >How to get the previous props or state?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#why-am-i-seeing-stale-props-or-state-inside-my-function"
                                    >Why am I seeing stale props or state inside
                                    my function?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#how-do-i-implement-getderivedstatefromprops"
                                    >How do I implement
                                    getDerivedStateFromProps?</a
                                  >
                                </li>
                                <li>
                                  <a href="#is-there-something-like-forceupdate"
                                    >Is there something like forceUpdate?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#can-i-make-a-ref-to-a-function-component"
                                    >Can I make a ref to a function
                                    component?</a
                                  >
                                </li>
                                <li>
                                  <a href="#how-can-i-measure-a-dom-node"
                                    >How can I measure a DOM node?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#what-does-const-thing-setthing--usestate-mean"
                                    >What does const [thing, setThing] =
                                    useState() mean?</a
                                  >
                                </li>
                              </ul>
                            </li>
                            <li>
                              <p>
                                <strong
                                  ><a href="#performance-optimizations"
                                    >Performance Optimizations</a
                                  ></strong
                                >
                              </p>
                              <ul>
                                <li>
                                  <a href="#can-i-skip-an-effect-on-updates"
                                    >Can I skip an effect on updates?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#is-it-safe-to-omit-functions-from-the-list-of-dependencies"
                                    >Is it safe to omit functions from the list
                                    of dependencies?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#what-can-i-do-if-my-effect-dependencies-change-too-often"
                                    >What can I do if my effect dependencies
                                    change too often?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#how-do-i-implement-shouldcomponentupdate"
                                    >How do I implement
                                    shouldComponentUpdate?</a
                                  >
                                </li>
                                <li>
                                  <a href="#how-to-memoize-calculations"
                                    >How to memoize calculations?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#how-to-create-expensive-objects-lazily"
                                    >How to create expensive objects lazily?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#are-hooks-slow-because-of-creating-functions-in-render"
                                    >Are Hooks slow because of creating
                                    functions in render?</a
                                  >
                                </li>
                                <li>
                                  <a href="#how-to-avoid-passing-callbacks-down"
                                    >How to avoid passing callbacks down?</a
                                  >
                                </li>
                                <li>
                                  <a
                                    href="#how-to-read-an-often-changing-value-from-usecallback"
                                    >How to read an often-changing value from
                                    useCallback?</a
                                  >
                                </li>
                              </ul>
                            </li>
                            <li>
                              <p>
                                <strong
                                  ><a href="#under-the-hood"
                                    >Under the Hood</a
                                  ></strong
                                >
                              </p>
                              <ul>
                                <li>
                                  <a
                                    href="#how-does-react-associate-hook-calls-with-components"
                                    >How does React associate Hook calls with
                                    components?</a
                                  >
                                </li>
                                <li>
                                  <a href="#what-is-the-prior-art-for-hooks"
                                    >What is the prior art for Hooks?</a
                                  >
                                </li>
                              </ul>
                            </li>
                          </ul>
                          <h2 id="adoption-strategy">
                            <a
                              href="#adoption-strategy"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >Adoption Strategy
                          </h2>
                          <h3 id="which-versions-of-react-include-hooks">
                            <a
                              href="#which-versions-of-react-include-hooks"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >Which versions of React include Hooks?
                          </h3>
                          <p>
                            Starting with 16.8.0, React includes a stable
                            implementation of React Hooks for:
                          </p>
                          <ul>
                            <li>React DOM</li>
                            <li>React Native</li>
                            <li>React DOM Server</li>
                            <li>React Test Renderer</li>
                            <li>React Shallow Renderer</li>
                          </ul>
                          <p>
                            Note that
                            <strong
                              >to enable Hooks, all React packages need to be
                              16.8.0 or higher</strong
                            >. Hooks won‚Äôt work if you forget to update, for
                            example, React DOM.
                          </p>
                          <p>
                            <a
                              href="https://reactnative.dev/blog/2019/03/12/releasing-react-native-059"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >React Native 0.59</a
                            >
                            and above support Hooks.
                          </p>
                          <h3 id="do-i-need-to-rewrite-all-my-class-components">
                            <a
                              href="#do-i-need-to-rewrite-all-my-class-components"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >Do I need to rewrite all my class components?
                          </h3>
                          <p>
                            No. There are
                            <a
                              href="/docs/hooks-intro.html#gradual-adoption-strategy"
                              >no plans</a
                            >
                            to remove classes from React ‚Äî we all need to keep
                            shipping products and can‚Äôt afford rewrites. We
                            recommend trying Hooks in new code.
                          </p>
                          <h3
                            id="what-can-i-do-with-hooks-that-i-couldnt-with-classes"
                          >
                            <a
                              href="#what-can-i-do-with-hooks-that-i-couldnt-with-classes"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >What can I do with Hooks that I couldn‚Äôt with
                            classes?
                          </h3>
                          <p>
                            Hooks offer a powerful and expressive new way to
                            reuse functionality between components.
                            <a href="/docs/hooks-custom.html"
                              >‚ÄúBuilding Your Own Hooks‚Äù</a
                            >
                            provides a glimpse of what‚Äôs possible.
                            <a
                              href="https://medium.com/@dan_abramov/making-sense-of-react-hooks-fdbde8803889"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >This article</a
                            >
                            by a React core team member dives deeper into the
                            new capabilities unlocked by Hooks.
                          </p>
                          <h3
                            id="how-much-of-my-react-knowledge-stays-relevant"
                          >
                            <a
                              href="#how-much-of-my-react-knowledge-stays-relevant"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >How much of my React knowledge stays relevant?
                          </h3>
                          <p>
                            Hooks are a more direct way to use the React
                            features you already know ‚Äî such as state,
                            lifecycle, context, and refs. They don‚Äôt
                            fundamentally change how React works, and your
                            knowledge of components, props, and top-down data
                            flow is just as relevant.
                          </p>
                          <p>
                            Hooks do have a learning curve of their own. If
                            there‚Äôs something missing in this documentation,
                            <a
                              href="https://github.com/reactjs/reactjs.org/issues/new"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >raise an issue</a
                            >
                            and we‚Äôll try to help.
                          </p>
                          <h3 id="should-i-use-hooks-classes-or-a-mix-of-both">
                            <a
                              href="#should-i-use-hooks-classes-or-a-mix-of-both"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >Should I use Hooks, classes, or a mix of both?
                          </h3>
                          <p>
                            When you‚Äôre ready, we‚Äôd encourage you to start
                            trying Hooks in new components you write. Make sure
                            everyone on your team is on board with using them
                            and familiar with this documentation. We don‚Äôt
                            recommend rewriting your existing classes to Hooks
                            unless you planned to rewrite them anyway (e.g. to
                            fix bugs).
                          </p>
                          <p>
                            You can‚Äôt use Hooks <em>inside</em> a class
                            component, but you can definitely mix classes and
                            function components with Hooks in a single tree.
                            Whether a component is a class or a function that
                            uses Hooks is an implementation detail of that
                            component. In the longer term, we expect Hooks to be
                            the primary way people write React components.
                          </p>
                          <h3 id="do-hooks-cover-all-use-cases-for-classes">
                            <a
                              href="#do-hooks-cover-all-use-cases-for-classes"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >Do Hooks cover all use cases for classes?
                          </h3>
                          <p>
                            Our goal is for Hooks to cover all use cases for
                            classes as soon as possible. There are no Hook
                            equivalents to the uncommon
                            <code class="gatsby-code-text"
                              >getSnapshotBeforeUpdate</code
                            >,
                            <code class="gatsby-code-text"
                              >getDerivedStateFromError</code
                            >
                            and
                            <code class="gatsby-code-text"
                              >componentDidCatch</code
                            >
                            lifecycles yet, but we plan to add them soon.
                          </p>
                          <h3
                            id="do-hooks-replace-render-props-and-higher-order-components"
                          >
                            <a
                              href="#do-hooks-replace-render-props-and-higher-order-components"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >Do Hooks replace render props and higher-order
                            components?
                          </h3>
                          <p>
                            Often, render props and higher-order components
                            render only a single child. We think Hooks are a
                            simpler way to serve this use case. There is still a
                            place for both patterns (for example, a virtual
                            scroller component might have a
                            <code class="gatsby-code-text">renderItem</code>
                            prop, or a visual container component might have its
                            own DOM structure). But in most cases, Hooks will be
                            sufficient and can help reduce nesting in your tree.
                          </p>
                          <h3
                            id="what-do-hooks-mean-for-popular-apis-like-redux-connect-and-react-router"
                          >
                            <a
                              href="#what-do-hooks-mean-for-popular-apis-like-redux-connect-and-react-router"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >What do Hooks mean for popular APIs like Redux
                            <code class="gatsby-code-text">connect()</code> and
                            React Router?
                          </h3>
                          <p>
                            You can continue to use the exact same APIs as you
                            always have; they‚Äôll continue to work.
                          </p>
                          <p>
                            React Redux since v7.1.0
                            <a
                              href="https://react-redux.js.org/api/hooks"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >supports Hooks API</a
                            >
                            and exposes hooks like
                            <code class="gatsby-code-text">useDispatch</code> or
                            <code class="gatsby-code-text">useSelector</code>.
                          </p>
                          <p>
                            React Router
                            <a
                              href="https://reacttraining.com/react-router/web/api/Hooks"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >supports hooks</a
                            >
                            since v5.1.
                          </p>
                          <p>
                            Other libraries might support hooks in the future
                            too.
                          </p>
                          <h3 id="do-hooks-work-with-static-typing">
                            <a
                              href="#do-hooks-work-with-static-typing"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >Do Hooks work with static typing?
                          </h3>
                          <p>
                            Hooks were designed with static typing in mind.
                            Because they‚Äôre functions, they are easier to type
                            correctly than patterns like higher-order
                            components. The latest Flow and TypeScript React
                            definitions include support for React Hooks.
                          </p>
                          <p>
                            Importantly, custom Hooks give you the power to
                            constrain React API if you‚Äôd like to type them more
                            strictly in some way. React gives you the
                            primitives, but you can combine them in different
                            ways than what we provide out of the box.
                          </p>
                          <h3 id="how-to-test-components-that-use-hooks">
                            <a
                              href="#how-to-test-components-that-use-hooks"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >How to test components that use Hooks?
                          </h3>
                          <p>
                            From React‚Äôs point of view, a component using Hooks
                            is just a regular component. If your testing
                            solution doesn‚Äôt rely on React internals, testing
                            components with Hooks shouldn‚Äôt be different from
                            how you normally test components.
                          </p>
                          <blockquote>
                            <p>Note</p>
                            <p>
                              <a href="/docs/testing-recipes.html"
                                >Testing Recipes</a
                              >
                              include many examples that you can copy and paste.
                            </p>
                          </blockquote>
                          <p>
                            For example, let‚Äôs say we have this counter
                            component:
                          </p>
                          <div class="gatsby-highlight" data-language="jsx">
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You clicked </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> times</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">You clicked </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token plain-text"> times</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  Click me
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            We‚Äôll test it using React DOM. To make sure that the
                            behavior matches what happens in the browser, we‚Äôll
                            wrap the code rendering and updating it into
                            <a href="/docs/test-utils.html#act"
                              ><code class="gatsby-code-text"
                                >ReactTestUtils.act()</code
                              ></a
                            >
                            calls:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom/client'</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> act <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-dom/test-utils'</span><span class="token punctuation">;</span></span><span class="token keyword">import</span> Counter <span class="token keyword">from</span> <span class="token string">'./Counter'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> container<span class="token punctuation">;</span>

<span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span>
container <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'can render and update a counter'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token comment">// Test first render and effect</span>
<span class="gatsby-highlight-code-line">  <span class="token function">act</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    ReactDOM<span class="token punctuation">.</span><span class="token function">createRoot</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Counter</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token keyword">const</span> button <span class="token operator">=</span> container<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> label <span class="token operator">=</span> container<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>label<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'You clicked 0 times'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'You clicked 0 times'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Test second render and effect</span>
<span class="gatsby-highlight-code-line">  <span class="token function">act</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    button<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MouseEvent</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">bubbles</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token function">expect</span><span class="token punctuation">(</span>label<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'You clicked 1 times'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'You clicked 1 times'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
                          </div>
                          <p>
                            The calls to
                            <code class="gatsby-code-text">act()</code> will
                            also flush the effects inside of them.
                          </p>
                          <p>
                            If you need to test a custom Hook, you can do so by
                            creating a component in your test, and using your
                            Hook from it. Then you can test the component you
                            wrote.
                          </p>
                          <p>
                            To reduce the boilerplate, we recommend using
                            <a
                              href="https://testing-library.com/react"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >React Testing Library</a
                            >
                            which is designed to encourage writing tests that
                            use your components as the end users do.
                          </p>
                          <p>
                            For more information, check out
                            <a href="/docs/testing-recipes.html"
                              >Testing Recipes</a
                            >.
                          </p>
                          <h3 id="what-exactly-do-the-lint-rules-enforce">
                            <a
                              href="#what-exactly-do-the-lint-rules-enforce"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >What exactly do the
                            <a
                              href="https://www.npmjs.com/package/eslint-plugin-react-hooks"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >lint rules</a
                            >
                            enforce?
                          </h3>
                          <p>
                            We provide an
                            <a
                              href="https://www.npmjs.com/package/eslint-plugin-react-hooks"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >ESLint plugin</a
                            >
                            that enforces
                            <a href="/docs/hooks-rules.html">rules of Hooks</a>
                            to avoid bugs. It assumes that any function starting
                            with ‚Äù<code class="gatsby-code-text">use</code>‚Äù and
                            a capital letter right after it is a Hook. We
                            recognize this heuristic isn‚Äôt perfect and there may
                            be some false positives, but without an
                            ecosystem-wide convention there is just no way to
                            make Hooks work well ‚Äî and longer names will
                            discourage people from either adopting Hooks or
                            following the convention.
                          </p>
                          <p>In particular, the rule enforces that:</p>
                          <ul>
                            <li>
                              Calls to Hooks are either inside a
                              <code class="gatsby-code-text">PascalCase</code>
                              function (assumed to be a component) or another
                              <code class="gatsby-code-text">useSomething</code>
                              function (assumed to be a custom Hook).
                            </li>
                            <li>
                              Hooks are called in the same order on every
                              render.
                            </li>
                          </ul>
                          <p>
                            There are a few more heuristics, and they might
                            change over time as we fine-tune the rule to balance
                            finding bugs with avoiding false positives.
                          </p>
                          <h2 id="from-classes-to-hooks">
                            <a
                              href="#from-classes-to-hooks"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >From Classes to Hooks
                          </h2>
                          <h3 id="how-do-lifecycle-methods-correspond-to-hooks">
                            <a
                              href="#how-do-lifecycle-methods-correspond-to-hooks"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >How do lifecycle methods correspond to Hooks?
                          </h3>
                          <ul>
                            <li>
                              <code class="gatsby-code-text">constructor</code>:
                              Function components don‚Äôt need a constructor. You
                              can initialize the state in the
                              <a href="/docs/hooks-reference.html#usestate"
                                ><code class="gatsby-code-text"
                                  >useState</code
                                ></a
                              >
                              call. If computing the initial state is expensive,
                              you can pass a function to
                              <code class="gatsby-code-text">useState</code>.
                            </li>
                            <li>
                              <code class="gatsby-code-text"
                                >getDerivedStateFromProps</code
                              >: Schedule an update
                              <a
                                href="#how-do-i-implement-getderivedstatefromprops"
                                >while rendering</a
                              >
                              instead.
                            </li>
                            <li>
                              <code class="gatsby-code-text"
                                >shouldComponentUpdate</code
                              >: See
                              <code class="gatsby-code-text">React.memo</code>
                              <a
                                href="#how-do-i-implement-shouldcomponentupdate"
                                >below</a
                              >.
                            </li>
                            <li>
                              <code class="gatsby-code-text">render</code>: This
                              is the function component body itself.
                            </li>
                            <li>
                              <code class="gatsby-code-text"
                                >componentDidMount</code
                              >,
                              <code class="gatsby-code-text"
                                >componentDidUpdate</code
                              >,
                              <code class="gatsby-code-text"
                                >componentWillUnmount</code
                              >: The
                              <a href="/docs/hooks-reference.html#useeffect"
                                ><code class="gatsby-code-text">useEffect</code>
                                Hook</a
                              >
                              can express all combinations of these (including
                              <a href="#can-i-skip-an-effect-on-updates"
                                >less</a
                              >
                              <a href="#can-i-run-an-effect-only-on-updates"
                                >common</a
                              >
                              cases).
                            </li>
                            <li>
                              <code class="gatsby-code-text"
                                >getSnapshotBeforeUpdate</code
                              >,
                              <code class="gatsby-code-text"
                                >componentDidCatch</code
                              >
                              and
                              <code class="gatsby-code-text"
                                >getDerivedStateFromError</code
                              >: There are no Hook equivalents for these methods
                              yet, but they will be added soon.
                            </li>
                          </ul>
                          <h3 id="how-can-i-do-data-fetching-with-hooks">
                            <a
                              href="#how-can-i-do-data-fetching-with-hooks"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >How can I do data fetching with Hooks?
                          </h3>
                          <p>
                            Here is a
                            <a
                              href="https://codesandbox.io/s/jvvkoo8pq3"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >small demo</a
                            >
                            to get you started. To learn more, check out
                            <a
                              href="https://www.robinwieruch.de/react-hooks-fetch-data/"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >this article</a
                            >
                            about data fetching with Hooks.
                          </p>
                          <h3 id="is-there-something-like-instance-variables">
                            <a
                              href="#is-there-something-like-instance-variables"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >Is there something like instance variables?
                          </h3>
                          <p>
                            Yes! The
                            <a href="/docs/hooks-reference.html#useref"
                              ><code class="gatsby-code-text">useRef()</code></a
                            >
                            Hook isn‚Äôt just for DOM refs. The ‚Äúref‚Äù object is a
                            generic container whose
                            <code class="gatsby-code-text">current</code>
                            property is mutable and can hold any value, similar
                            to an instance property on a class.
                          </p>
                          <p>
                            You can write to it from inside
                            <code class="gatsby-code-text">useEffect</code>:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> intervalRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">    intervalRef<span class="token punctuation">.</span>current <span class="token operator">=</span> id<span class="token punctuation">;</span></span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token function">clearInterval</span><span class="token punctuation">(</span>intervalRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            If we just wanted to set an interval, we wouldn‚Äôt
                            need the ref (<code class="gatsby-code-text"
                              >id</code
                            >
                            could be local to the effect), but it‚Äôs useful if we
                            want to clear the interval from an event handler:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx">  <span class="token comment">// ...</span>
<span class="token keyword">function</span> <span class="token function">handleCancelClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token function">clearInterval</span><span class="token punctuation">(</span>intervalRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token punctuation">}</span>
<span class="token comment">// ...</span></code></pre>
                          </div>
                          <p>
                            Conceptually, you can think of refs as similar to
                            instance variables in a class. Unless you‚Äôre doing
                            <a href="#how-to-create-expensive-objects-lazily"
                              >lazy initialization</a
                            >, avoid setting refs during rendering ‚Äî this can
                            lead to surprising behavior. Instead, typically you
                            want to modify refs in event handlers and effects.
                          </p>
                          <h3 id="should-i-use-one-or-many-state-variables">
                            <a
                              href="#should-i-use-one-or-many-state-variables"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >Should I use one or many state variables?
                          </h3>
                          <p>
                            If you‚Äôre coming from classes, you might be tempted
                            to always call
                            <code class="gatsby-code-text">useState()</code>
                            once and put all state into a single object. You can
                            do it if you‚Äôd like. Here is an example of a
                            component that follows the mouse movement. We keep
                            its position and size in the local state:
                          </p>
                          <div class="gatsby-highlight" data-language="jsx">
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Box</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            Now let‚Äôs say we want to write some logic that
                            changes
                            <code class="gatsby-code-text">left</code> and
                            <code class="gatsby-code-text">top</code> when the
                            user moves their mouse. Note how we have to merge
                            these fields into the previous state object
                            manually:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx">  <span class="token comment">// ...</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token keyword">function</span> <span class="token function">handleWindowMouseMove</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">      <span class="token comment">// Spreading "...state" ensures we don't "lose" width and height</span></span><span class="gatsby-highlight-code-line">      <span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">state</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>state<span class="token punctuation">,</span> <span class="token literal-property property">left</span><span class="token operator">:</span> e<span class="token punctuation">.</span>pageX<span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> e<span class="token punctuation">.</span>pageY <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>    <span class="token punctuation">}</span>
<span class="token comment">// Note: this implementation is a bit simplified</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> handleWindowMouseMove<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> handleWindowMouseMove<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span></code></pre>
                          </div>
                          <p>
                            This is because when we update a state variable, we
                            <em>replace</em> its value. This is different from
                            <code class="gatsby-code-text">this.setState</code>
                            in a class, which <em>merges</em> the updated fields
                            into the object.
                          </p>
                          <p>
                            If you miss automatic merging, you could write a
                            custom
                            <code class="gatsby-code-text">useLegacyState</code>
                            Hook that merges object state updates. However,
                            <strong
                              >we recommend to split state into multiple state
                              variables based on which values tend to change
                              together.</strong
                            >
                          </p>
                          <p>
                            For example, we could split our component state into
                            <code class="gatsby-code-text">position</code> and
                            <code class="gatsby-code-text">size</code> objects,
                            and always replace the
                            <code class="gatsby-code-text">position</code> with
                            no need for merging:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Box</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>position<span class="token punctuation">,</span> setPosition<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token keyword">const</span> <span class="token punctuation">[</span>size<span class="token punctuation">,</span> setSize<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token keyword">function</span> <span class="token function">handleWindowMouseMove</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">      <span class="token function">setPosition</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> e<span class="token punctuation">.</span>pageX<span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> e<span class="token punctuation">.</span>pageY <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>    <span class="token punctuation">}</span>
<span class="token comment">// ...</span></code></pre>
                          </div>
                          <p>
                            Separating independent state variables also has
                            another benefit. It makes it easy to later extract
                            some related logic into a custom Hook, for example:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Box</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> position <span class="token operator">=</span> <span class="token function">useWindowPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token keyword">const</span> <span class="token punctuation">[</span>size<span class="token punctuation">,</span> setSize<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">function</span> <span class="token function">useWindowPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>  <span class="token keyword">const</span> <span class="token punctuation">[</span>position<span class="token punctuation">,</span> setPosition<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> position<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            Note how we were able to move the
                            <code class="gatsby-code-text">useState</code> call
                            for the
                            <code class="gatsby-code-text">position</code> state
                            variable and the related effect into a custom Hook
                            without changing their code. If all state was in a
                            single object, extracting it would be more
                            difficult.
                          </p>
                          <p>
                            Both putting all state in a single
                            <code class="gatsby-code-text">useState</code> call,
                            and having a
                            <code class="gatsby-code-text">useState</code> call
                            per each field can work. Components tend to be most
                            readable when you find a balance between these two
                            extremes, and group related state into a few
                            independent state variables. If the state logic
                            becomes complex, we recommend
                            <a href="/docs/hooks-reference.html#usereducer"
                              >managing it with a reducer</a
                            >
                            or a custom Hook.
                          </p>
                          <h3 id="can-i-run-an-effect-only-on-updates">
                            <a
                              href="#can-i-run-an-effect-only-on-updates"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >Can I run an effect only on updates?
                          </h3>
                          <p>
                            This is a rare use case. If you need it, you can
                            <a
                              href="#is-there-something-like-instance-variables"
                              >use a mutable ref</a
                            >
                            to manually store a boolean value corresponding to
                            whether you are on the first or a subsequent render,
                            then check that flag in your effect. (If you find
                            yourself doing this often, you could create a custom
                            Hook for it.)
                          </p>
                          <h3 id="how-to-get-the-previous-props-or-state">
                            <a
                              href="#how-to-get-the-previous-props-or-state"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >How to get the previous props or state?
                          </h3>
                          <p>
                            Currently, you can do it manually
                            <a
                              href="#is-there-something-like-instance-variables"
                              >with a ref</a
                            >:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> prevCountRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    prevCountRef<span class="token punctuation">.</span>current <span class="token operator">=</span> count<span class="token punctuation">;</span></span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> prevCount <span class="token operator">=</span> prevCountRef<span class="token punctuation">.</span>current<span class="token punctuation">;</span></span>
<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Now: </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token plain-text">, before: </span><span class="token punctuation">{</span>prevCount<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            This might be a bit convoluted but you can extract
                            it into a custom Hook:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> prevCount <span class="token operator">=</span> <span class="token function">usePrevious</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Now: </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token plain-text">, before: </span><span class="token punctuation">{</span>prevCount<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">function</span> <span class="token function">usePrevious</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>  <span class="token keyword">const</span> ref <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
ref<span class="token punctuation">.</span>current <span class="token operator">=</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> ref<span class="token punctuation">.</span>current<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            Note how this would work for props, state, or any
                            other calculated value.
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> calculation <span class="token operator">=</span> count <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> prevCalculation <span class="token operator">=</span> <span class="token function">usePrevious</span><span class="token punctuation">(</span>calculation<span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token comment">// ...</span></code></pre>
                          </div>
                          <p>
                            It‚Äôs possible that in the future React will provide
                            a
                            <code class="gatsby-code-text">usePrevious</code>
                            Hook out of the box since it‚Äôs a relatively common
                            use case.
                          </p>
                          <p>
                            See also
                            <a
                              href="#how-do-i-implement-getderivedstatefromprops"
                              >the recommended pattern for derived state</a
                            >.
                          </p>
                          <h3
                            id="why-am-i-seeing-stale-props-or-state-inside-my-function"
                          >
                            <a
                              href="#why-am-i-seeing-stale-props-or-state-inside-my-function"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >Why am I seeing stale props or state inside my
                            function?
                          </h3>
                          <p>
                            Any function inside a component, including event
                            handlers and effects, ‚Äúsees‚Äù the props and state
                            from the render it was created in. For example,
                            consider code like this:
                          </p>
                          <div class="gatsby-highlight" data-language="jsx">
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">handleAlertClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'You clicked on: '</span> <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">return</span> <span class="token punctuation">(</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">You clicked </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token plain-text"> times</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  Click me
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleAlertClick<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  Show alert
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            If you first click ‚ÄúShow alert‚Äù and then increment
                            the counter, the alert will show the
                            <code class="gatsby-code-text">count</code> variable
                            <strong
                              >at the time you clicked the ‚ÄúShow alert‚Äù
                              button</strong
                            >. This prevents bugs caused by the code assuming
                            props and state don‚Äôt change.
                          </p>
                          <p>
                            If you intentionally want to read the
                            <em>latest</em> state from some asynchronous
                            callback, you could keep it in
                            <a
                              href="/docs/hooks-faq.html#is-there-something-like-instance-variables"
                              >a ref</a
                            >, mutate it, and read from it.
                          </p>
                          <p>
                            Finally, another possible reason you‚Äôre seeing stale
                            props or state is if you use the ‚Äúdependency array‚Äù
                            optimization but didn‚Äôt correctly specify all the
                            dependencies. For example, if an effect specifies
                            <code class="gatsby-code-text">[]</code> as the
                            second argument but reads
                            <code class="gatsby-code-text">someProp</code>
                            inside, it will keep ‚Äúseeing‚Äù the initial value of
                            <code class="gatsby-code-text">someProp</code>. The
                            solution is to either remove the dependency array,
                            or to fix it. Here‚Äôs
                            <a
                              href="#is-it-safe-to-omit-functions-from-the-list-of-dependencies"
                              >how you can deal with functions</a
                            >, and here‚Äôs
                            <a
                              href="#what-can-i-do-if-my-effect-dependencies-change-too-often"
                              >other common strategies</a
                            >
                            to run effects less often without incorrectly
                            skipping dependencies.
                          </p>
                          <blockquote>
                            <p>Note</p>
                            <p>
                              We provide an
                              <a
                                href="https://github.com/facebook/react/issues/14920"
                                target="_blank"
                                rel="nofollow noopener noreferrer"
                                ><code class="gatsby-code-text"
                                  >exhaustive-deps</code
                                ></a
                              >
                              ESLint rule as a part of the
                              <a
                                href="https://www.npmjs.com/package/eslint-plugin-react-hooks#installation"
                                target="_blank"
                                rel="nofollow noopener noreferrer"
                                ><code class="gatsby-code-text"
                                  >eslint-plugin-react-hooks</code
                                ></a
                              >
                              package. It warns when dependencies are specified
                              incorrectly and suggests a fix.
                            </p>
                          </blockquote>
                          <h3 id="how-do-i-implement-getderivedstatefromprops">
                            <a
                              href="#how-do-i-implement-getderivedstatefromprops"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >How do I implement
                            <code class="gatsby-code-text"
                              >getDerivedStateFromProps</code
                            >?
                          </h3>
                          <p>
                            While you probably
                            <a
                              href="/blog/2018/06/07/you-probably-dont-need-derived-state.html"
                              >don‚Äôt need it</a
                            >, in rare cases that you do (such as implementing a
                            <code class="gatsby-code-text"
                              >&lt;Transition></code
                            >
                            component), you can update the state right during
                            rendering. React will re-run the component with
                            updated state immediately after exiting the first
                            render so it wouldn‚Äôt be expensive.
                          </p>
                          <p>
                            Here, we store the previous value of the
                            <code class="gatsby-code-text">row</code> prop in a
                            state variable so that we can compare:
                          </p>
                          <div class="gatsby-highlight" data-language="jsx">
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">ScrollView</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>row<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>isScrollingDown<span class="token punctuation">,</span> setIsScrollingDown<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>prevRow<span class="token punctuation">,</span> setPrevRow<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>row <span class="token operator">!==</span> prevRow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// Row changed since last render. Update isScrollingDown.</span>
<span class="token function">setIsScrollingDown</span><span class="token punctuation">(</span>prevRow <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> row <span class="token operator">></span> prevRow<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setPrevRow</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Scrolling down: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>isScrollingDown<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            This might look strange at first, but an update
                            during rendering is exactly what
                            <code class="gatsby-code-text"
                              >getDerivedStateFromProps</code
                            >
                            has always been like conceptually.
                          </p>
                          <h3 id="is-there-something-like-forceupdate">
                            <a
                              href="#is-there-something-like-forceupdate"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >Is there something like forceUpdate?
                          </h3>
                          <p>
                            Both
                            <code class="gatsby-code-text">useState</code> and
                            <code class="gatsby-code-text">useReducer</code>
                            Hooks
                            <a
                              href="/docs/hooks-reference.html#bailing-out-of-a-state-update"
                              >bail out of updates</a
                            >
                            if the next value is the same as the previous one.
                            Mutating state in place and calling
                            <code class="gatsby-code-text">setState</code> will
                            not cause a re-render.
                          </p>
                          <p>
                            Normally, you shouldn‚Äôt mutate local state in React.
                            However, as an escape hatch, you can use an
                            incrementing counter to force a re-render even if
                            the state has not changed:
                          </p>
                          <div class="gatsby-highlight" data-language="jsx">
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx">  <span class="token keyword">const</span> <span class="token punctuation">[</span>ignored<span class="token punctuation">,</span> forceUpdate<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=></span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token function">forceUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>Try to avoid this pattern if possible.</p>
                          <h3 id="can-i-make-a-ref-to-a-function-component">
                            <a
                              href="#can-i-make-a-ref-to-a-function-component"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >Can I make a ref to a function component?
                          </h3>
                          <p>
                            While you shouldn‚Äôt need this often, you may expose
                            some imperative methods to a parent component with
                            the
                            <a
                              href="/docs/hooks-reference.html#useimperativehandle"
                              ><code class="gatsby-code-text"
                                >useImperativeHandle</code
                              ></a
                            >
                            Hook.
                          </p>
                          <h3 id="how-can-i-measure-a-dom-node">
                            <a
                              href="#how-can-i-measure-a-dom-node"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >How can I measure a DOM node?
                          </h3>
                          <p>
                            One rudimentary way to measure the position or size
                            of a DOM node is to use a
                            <a href="/docs/refs-and-the-dom.html#callback-refs"
                              >callback ref</a
                            >. React will call that callback whenever the ref
                            gets attached to a different node. Here is a
                            <a
                              href="https://codesandbox.io/s/l7m0v5x4v9"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >small demo</a
                            >:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">MeasureExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>height<span class="token punctuation">,</span> setHeight<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> measuredRef <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token parameter">node</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      <span class="token function">setHeight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="gatsby-highlight-code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>measuredRef<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Hello, world</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text"></span></span><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">The above header is </span><span class="token punctuation">{</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">px tall</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            We didn‚Äôt choose
                            <code class="gatsby-code-text">useRef</code> in this
                            example because an object ref doesn‚Äôt notify us
                            about <em>changes</em> to the current ref value.
                            Using a callback ref ensures that
                            <a
                              href="https://codesandbox.io/s/818zzk8m78"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >even if a child component displays the measured
                              node later</a
                            >
                            (e.g. in response to a click), we still get notified
                            about it in the parent component and can update the
                            measurements.
                          </p>
                          <p>
                            Note that we pass
                            <code class="gatsby-code-text">[]</code> as a
                            dependency array to
                            <code class="gatsby-code-text">useCallback</code>.
                            This ensures that our ref callback doesn‚Äôt change
                            between the re-renders, and so React won‚Äôt call it
                            unnecessarily.
                          </p>
                          <p>
                            In this example, the callback ref will be called
                            only when the component mounts and unmounts, since
                            the rendered
                            <code class="gatsby-code-text">&lt;h1></code>
                            component stays present throughout any rerenders. If
                            you want to be notified any time a component
                            resizes, you may want to use
                            <a
                              href="https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              ><code class="gatsby-code-text"
                                >ResizeObserver</code
                              ></a
                            >
                            or a third-party Hook built on it.
                          </p>
                          <p>
                            If you want, you can
                            <a
                              href="https://codesandbox.io/s/m5o42082xy"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >extract this logic</a
                            >
                            into a reusable Hook:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">MeasureExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>rect<span class="token punctuation">,</span> ref<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token keyword">return</span> <span class="token punctuation">(</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Hello, world</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token punctuation">{</span>rect <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">The above header is </span><span class="token punctuation">{</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">px tall</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">useClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>rect<span class="token punctuation">,</span> setRect<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ref <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token parameter">node</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token function">setRect</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token punctuation">[</span>rect<span class="token punctuation">,</span> ref<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <h3
                            id="what-does-const-thing-setthing--usestate-mean"
                          >
                            <a
                              href="#what-does-const-thing-setthing--usestate-mean"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >What does
                            <code class="gatsby-code-text"
                              >const [thing, setThing] = useState()</code
                            >
                            mean?
                          </h3>
                          <p>
                            If you‚Äôre not familiar with this syntax, check out
                            the
                            <a
                              href="/docs/hooks-state.html#tip-what-do-square-brackets-mean"
                              >explanation</a
                            >
                            in the State Hook documentation.
                          </p>
                          <h2 id="performance-optimizations">
                            <a
                              href="#performance-optimizations"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >Performance Optimizations
                          </h2>
                          <h3 id="can-i-skip-an-effect-on-updates">
                            <a
                              href="#can-i-skip-an-effect-on-updates"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >Can I skip an effect on updates?
                          </h3>
                          <p>
                            Yes. See
                            <a
                              href="/docs/hooks-reference.html#conditionally-firing-an-effect"
                              >conditionally firing an effect</a
                            >. Note that forgetting to handle updates often
                            <a
                              href="/docs/hooks-effect.html#explanation-why-effects-run-on-each-update"
                              >introduces bugs</a
                            >, which is why this isn‚Äôt the default behavior.
                          </p>
                          <h3
                            id="is-it-safe-to-omit-functions-from-the-list-of-dependencies"
                          >
                            <a
                              href="#is-it-safe-to-omit-functions-from-the-list-of-dependencies"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >Is it safe to omit functions from the list of
                            dependencies?
                          </h3>
                          <p>Generally speaking, no.</p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Example</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> someProp <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>someProp<span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token punctuation">}</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// üî¥ This is not safe (it calls `doSomething` which uses `someProp`)</span></span><span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            It‚Äôs difficult to remember which props or state are
                            used by functions outside of the effect. This is why
                            <strong
                              >usually you‚Äôll want to declare functions needed
                              by an effect <em>inside</em> of it.</strong
                            >
                            Then it‚Äôs easy to see what values from the component
                            scope that effect depends on:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Example</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> someProp <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>someProp<span class="token punctuation">)</span><span class="token punctuation">;</span></span>    <span class="token punctuation">}</span>

<span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>someProp<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ‚úÖ OK (our effect only uses `someProp`)</span></span><span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            If after that we still don‚Äôt use any values from the
                            component scope, it‚Äôs safe to specify
                            <code class="gatsby-code-text">[]</code>:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ‚úÖ OK in this example because we don't use *any* values from component scope</span></span></code></pre>
                          </div>
                          <p>
                            Depending on your use case, there are a few more
                            options described below.
                          </p>
                          <blockquote>
                            <p>Note</p>
                            <p>
                              We provide the
                              <a
                                href="https://github.com/facebook/react/issues/14920"
                                target="_blank"
                                rel="nofollow noopener noreferrer"
                                ><code class="gatsby-code-text"
                                  >exhaustive-deps</code
                                ></a
                              >
                              ESLint rule as a part of the
                              <a
                                href="https://www.npmjs.com/package/eslint-plugin-react-hooks#installation"
                                target="_blank"
                                rel="nofollow noopener noreferrer"
                                ><code class="gatsby-code-text"
                                  >eslint-plugin-react-hooks</code
                                ></a
                              >
                              package. It helps you find components that don‚Äôt
                              handle updates consistently.
                            </p>
                          </blockquote>
                          <p>Let‚Äôs see why this matters.</p>
                          <p>
                            If you specify a
                            <a
                              href="/docs/hooks-reference.html#conditionally-firing-an-effect"
                              >list of dependencies</a
                            >
                            as the last argument to
                            <code class="gatsby-code-text">useEffect</code>,
                            <code class="gatsby-code-text">useLayoutEffect</code
                            >, <code class="gatsby-code-text">useMemo</code>,
                            <code class="gatsby-code-text">useCallback</code>,
                            or
                            <code class="gatsby-code-text"
                              >useImperativeHandle</code
                            >, it must include all values that are used inside
                            the callback and participate in the React data flow.
                            That includes props, state, and anything derived
                            from them.
                          </p>
                          <p>
                            It is <strong>only</strong> safe to omit a function
                            from the dependency list if nothing in it (or the
                            functions called by it) references props, state, or
                            values derived from them. This example has a bug:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">ProductPage</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> productId <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>product<span class="token punctuation">,</span> setProduct<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'http://myapi/product/'</span> <span class="token operator">+</span> productId<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uses productId prop</span></span>    <span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setProduct</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token function">fetchProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// üî¥ Invalid because `fetchProduct` uses `productId`</span></span>  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            <strong
                              >The recommended fix is to move that function
                              <em>inside</em> of your effect</strong
                            >. That makes it easy to see which props or state
                            your effect uses, and to ensure they‚Äôre all
                            declared:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">ProductPage</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> productId <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>product<span class="token punctuation">,</span> setProduct<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token comment">// By moving this function inside the effect, we can clearly see the values it uses.</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'http://myapi/product/'</span> <span class="token operator">+</span> productId<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">      <span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">      <span class="token function">setProduct</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span></span>
<span class="token function">fetchProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>productId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ‚úÖ Valid because our effect only uses productId</span></span>  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            This also allows you to handle out-of-order
                            responses with a local variable inside the effect:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx">  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token keyword">let</span> ignore <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>    <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'http://myapi/product/'</span> <span class="token operator">+</span> productId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ignore<span class="token punctuation">)</span> <span class="token function">setProduct</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span></span>    <span class="token punctuation">}</span>

<span class="token function">fetchProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> ignore <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>productId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
                          </div>
                          <p>
                            We moved the function inside the effect so it
                            doesn‚Äôt need to be in its dependency list.
                          </p>
                          <blockquote>
                            <p>Tip</p>
                            <p>
                              Check out
                              <a
                                href="https://codesandbox.io/s/jvvkoo8pq3"
                                target="_blank"
                                rel="nofollow noopener noreferrer"
                                >this small demo</a
                              >
                              and
                              <a
                                href="https://www.robinwieruch.de/react-hooks-fetch-data/"
                                target="_blank"
                                rel="nofollow noopener noreferrer"
                                >this article</a
                              >
                              to learn more about data fetching with Hooks.
                            </p>
                          </blockquote>
                          <p>
                            <strong
                              >If for some reason you <em>can‚Äôt</em> move a
                              function inside an effect, there are a few more
                              options:</strong
                            >
                          </p>
                          <ul>
                            <li>
                              <strong
                                >You can try moving that function outside of
                                your component</strong
                              >. In that case, the function is guaranteed to not
                              reference any props or state, and also doesn‚Äôt
                              need to be in the list of dependencies.
                            </li>
                            <li>
                              If the function you‚Äôre calling is a pure
                              computation and is safe to call while rendering,
                              you may
                              <strong
                                >call it outside of the effect instead,</strong
                              >
                              and make the effect depend on the returned value.
                            </li>
                            <li>
                              As a last resort, you can
                              <strong
                                >add a function to effect dependencies but
                                <em>wrap its definition</em></strong
                              >
                              into the
                              <a href="/docs/hooks-reference.html#usecallback"
                                ><code class="gatsby-code-text"
                                  >useCallback</code
                                ></a
                              >
                              Hook. This ensures it doesn‚Äôt change on every
                              render unless <em>its own</em> dependencies also
                              change:
                            </li>
                          </ul>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">ProductPage</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> productId <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token comment">// ‚úÖ Wrap with useCallback to avoid change on every render</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> fetchProduct <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    <span class="token comment">// ... Does something with productId ...</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>productId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ‚úÖ All useCallback dependencies are specified</span></span>
<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ProductDetails</span></span> <span class="token attr-name">fetchProduct</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>fetchProduct<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">ProductDetails</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> fetchProduct <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token function">fetchProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>fetchProduct<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ‚úÖ All useEffect dependencies are specified</span>
<span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            Note that in the above example we
                            <strong>need</strong> to keep the function in the
                            dependencies list. This ensures that a change in the
                            <code class="gatsby-code-text">productId</code> prop
                            of
                            <code class="gatsby-code-text">ProductPage</code>
                            automatically triggers a refetch in the
                            <code class="gatsby-code-text">ProductDetails</code>
                            component.
                          </p>
                          <h3
                            id="what-can-i-do-if-my-effect-dependencies-change-too-often"
                          >
                            <a
                              href="#what-can-i-do-if-my-effect-dependencies-change-too-often"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >What can I do if my effect dependencies change too
                            often?
                          </h3>
                          <p>
                            Sometimes, your effect may be using state that
                            changes too often. You might be tempted to omit that
                            state from a list of dependencies, but that usually
                            leads to bugs:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">      <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// This effect depends on the `count` state</span></span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">clearInterval</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// üî¥ Bug: `count` is not specified as a dependency</span></span>
<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            The empty set of dependencies,
                            <code class="gatsby-code-text">[]</code>, means that
                            the effect will only run once when the component
                            mounts, and not on every re-render. The problem is
                            that inside the
                            <code class="gatsby-code-text">setInterval</code>
                            callback, the value of
                            <code class="gatsby-code-text">count</code> does not
                            change, because we‚Äôve created a closure with the
                            value of
                            <code class="gatsby-code-text">count</code> set to
                            <code class="gatsby-code-text">0</code> as it was
                            when the effect callback ran. Every second, this
                            callback then calls
                            <code class="gatsby-code-text">setCount(0 + 1)</code
                            >, so the count never goes above 1.
                          </p>
                          <p>
                            Specifying
                            <code class="gatsby-code-text">[count]</code> as a
                            list of dependencies would fix the bug, but would
                            cause the interval to be reset on every change.
                            Effectively, each
                            <code class="gatsby-code-text">setInterval</code>
                            would get one chance to execute before being cleared
                            (similar to a
                            <code class="gatsby-code-text">setTimeout</code>.)
                            That may not be desirable. To fix this, we can use
                            the
                            <a
                              href="/docs/hooks-reference.html#functional-updates"
                              >functional update form of
                              <code class="gatsby-code-text">setState</code></a
                            >. It lets us specify <em>how</em> the state needs
                            to change without referencing the
                            <em>current</em> state:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">      <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token parameter">c</span> <span class="token operator">=></span> c <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ‚úÖ This doesn't depend on `count` variable outside</span></span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">clearInterval</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ‚úÖ Our effect doesn't use any variables in the component scope</span></span>
<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            (The identity of the
                            <code class="gatsby-code-text">setCount</code>
                            function is guaranteed to be stable so it‚Äôs safe to
                            omit.)
                          </p>
                          <p>
                            Now, the
                            <code class="gatsby-code-text">setInterval</code>
                            callback executes once a second, but each time the
                            inner call to
                            <code class="gatsby-code-text">setCount</code> can
                            use an up-to-date value for
                            <code class="gatsby-code-text">count</code> (called
                            <code class="gatsby-code-text">c</code> in the
                            callback here.)
                          </p>
                          <p>
                            In more complex cases (such as if one state depends
                            on another state), try moving the state update logic
                            outside the effect with the
                            <a href="/docs/hooks-reference.html#usereducer"
                              ><code class="gatsby-code-text">useReducer</code>
                              Hook</a
                            >.
                            <a
                              href="https://adamrackis.dev/state-and-use-reducer/"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >This article</a
                            >
                            offers an example of how you can do this.
                            <strong
                              >The identity of the
                              <code class="gatsby-code-text">dispatch</code>
                              function from
                              <code class="gatsby-code-text">useReducer</code>
                              is always stable</strong
                            >
                            ‚Äî even if the reducer function is declared inside
                            the component and reads its props.
                          </p>
                          <p>
                            As a last resort, if you want something like
                            <code class="gatsby-code-text">this</code> in a
                            class, you can
                            <a
                              href="/docs/hooks-faq.html#is-there-something-like-instance-variables"
                              >use a ref</a
                            >
                            to hold a mutable variable. Then you can write and
                            read to it. For example:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Example</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token comment">// Keep latest props in a ref.</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> latestProps <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    latestProps<span class="token punctuation">.</span>current <span class="token operator">=</span> props<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token keyword">function</span> <span class="token function">tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">      <span class="token comment">// Read latest props at any time</span></span><span class="gatsby-highlight-code-line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>latestProps<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span></span>    <span class="token punctuation">}</span>

<span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span>tick<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">clearInterval</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// This effect never re-runs</span></span><span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            Only do this if you couldn‚Äôt find a better
                            alternative, as relying on mutation makes components
                            less predictable. If there‚Äôs a specific pattern that
                            doesn‚Äôt translate well,
                            <a
                              href="https://github.com/facebook/react/issues/new"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >file an issue</a
                            >
                            with a runnable example code and we can try to help.
                          </p>
                          <h3 id="how-do-i-implement-shouldcomponentupdate">
                            <a
                              href="#how-do-i-implement-shouldcomponentupdate"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >How do I implement
                            <code class="gatsby-code-text"
                              >shouldComponentUpdate</code
                            >?
                          </h3>
                          <p>
                            You can wrap a function component with
                            <code class="gatsby-code-text">React.memo</code> to
                            shallowly compare its props:
                          </p>
                          <div class="gatsby-highlight" data-language="jsx">
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">const</span> Button <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">memo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token comment">// your component</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
                          </div>
                          <p>
                            It‚Äôs not a Hook because it doesn‚Äôt compose like
                            Hooks do.
                            <code class="gatsby-code-text">React.memo</code> is
                            equivalent to
                            <code class="gatsby-code-text">PureComponent</code>,
                            but it only compares props. (You can also add a
                            second argument to specify a custom comparison
                            function that takes the old and new props. If it
                            returns true, the update is skipped.)
                          </p>
                          <p>
                            <code class="gatsby-code-text">React.memo</code>
                            doesn‚Äôt compare state because there is no single
                            state object to compare. But you can make children
                            pure too, or even
                            <a
                              href="/docs/hooks-faq.html#how-to-memoize-calculations"
                              >optimize individual children with
                              <code class="gatsby-code-text">useMemo</code></a
                            >.
                          </p>
                          <h3 id="how-to-memoize-calculations">
                            <a
                              href="#how-to-memoize-calculations"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >How to memoize calculations?
                          </h3>
                          <p>
                            The
                            <a href="/docs/hooks-reference.html#usememo"
                              ><code class="gatsby-code-text">useMemo</code></a
                            >
                            Hook lets you cache calculations between multiple
                            renders by ‚Äúremembering‚Äù the previous computation:
                          </p>
                          <div class="gatsby-highlight" data-language="jsx">
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">const</span> memoizedValue <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">computeExpensiveValue</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
                          </div>
                          <p>
                            This code calls
                            <code class="gatsby-code-text"
                              >computeExpensiveValue(a, b)</code
                            >. But if the dependencies
                            <code class="gatsby-code-text">[a, b]</code> haven‚Äôt
                            changed since the last value,
                            <code class="gatsby-code-text">useMemo</code> skips
                            calling it a second time and simply reuses the last
                            value it returned.
                          </p>
                          <p>
                            Remember that the function passed to
                            <code class="gatsby-code-text">useMemo</code> runs
                            during rendering. Don‚Äôt do anything there that you
                            wouldn‚Äôt normally do while rendering. For example,
                            side effects belong in
                            <code class="gatsby-code-text">useEffect</code>, not
                            <code class="gatsby-code-text">useMemo</code>.
                          </p>
                          <p>
                            <strong
                              >You may rely on
                              <code class="gatsby-code-text">useMemo</code> as a
                              performance optimization, not as a semantic
                              guarantee.</strong
                            >
                            In the future, React may choose to ‚Äúforget‚Äù some
                            previously memoized values and recalculate them on
                            next render, e.g. to free memory for offscreen
                            components. Write your code so that it still works
                            without
                            <code class="gatsby-code-text">useMemo</code> ‚Äî and
                            then add it to optimize performance. (For rare cases
                            when a value must <em>never</em> be recomputed, you
                            can
                            <a href="#how-to-create-expensive-objects-lazily"
                              >lazily initialize</a
                            >
                            a ref.)
                          </p>
                          <p>
                            Conveniently,
                            <code class="gatsby-code-text">useMemo</code> also
                            lets you skip an expensive re-render of a child:
                          </p>
                          <div class="gatsby-highlight" data-language="jsx">
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> a<span class="token punctuation">,</span> b <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// Only re-rendered if `a` changes:</span>
<span class="token keyword">const</span> child1 <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Child1</span></span> <span class="token attr-name">a</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>a<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Only re-rendered if `b` changes:</span>
<span class="token keyword">const</span> child2 <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Child2</span></span> <span class="token attr-name">b</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>b<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">
</span><span class="token punctuation">{</span>child1<span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token punctuation">{</span>child2<span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            Note that this approach won‚Äôt work in a loop because
                            Hook calls
                            <a href="/docs/hooks-rules.html">can‚Äôt</a> be placed
                            inside loops. But you can extract a separate
                            component for the list item, and call
                            <code class="gatsby-code-text">useMemo</code> there.
                          </p>
                          <h3 id="how-to-create-expensive-objects-lazily">
                            <a
                              href="#how-to-create-expensive-objects-lazily"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >How to create expensive objects lazily?
                          </h3>
                          <p>
                            <code class="gatsby-code-text">useMemo</code> lets
                            you
                            <a href="#how-to-memoize-calculations"
                              >memoize an expensive calculation</a
                            >
                            if the dependencies are the same. However, it only
                            serves as a hint, and doesn‚Äôt <em>guarantee</em> the
                            computation won‚Äôt re-run. But sometimes you need to
                            be sure an object is only created once.
                          </p>
                          <p>
                            <strong
                              >The first common use case is when creating the
                              initial state is expensive:</strong
                            >
                          </p>
                          <div class="gatsby-highlight" data-language="jsx">
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Table</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// ‚ö†Ô∏è createRows() is called on every render</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>rows<span class="token punctuation">,</span> setRows<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token function">createRows</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            To avoid re-creating the ignored initial state, we
                            can pass a <strong>function</strong> to
                            <code class="gatsby-code-text">useState</code>:
                          </p>
                          <div class="gatsby-highlight" data-language="jsx">
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Table</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// ‚úÖ createRows() is only called once</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>rows<span class="token punctuation">,</span> setRows<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">createRows</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            React will only call this function during the first
                            render. See the
                            <a href="/docs/hooks-reference.html#usestate"
                              ><code class="gatsby-code-text">useState</code>
                              API reference</a
                            >.
                          </p>
                          <p>
                            <strong
                              >You might also occasionally want to avoid
                              re-creating the
                              <code class="gatsby-code-text">useRef()</code>
                              initial value.</strong
                            >
                            For example, maybe you want to ensure some
                            imperative class instance only gets created once:
                          </p>
                          <div class="gatsby-highlight" data-language="jsx">
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Image</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// ‚ö†Ô∏è IntersectionObserver is created on every render</span>
<span class="token keyword">const</span> ref <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IntersectionObserver</span><span class="token punctuation">(</span>onIntersect<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            <code class="gatsby-code-text">useRef</code>
                            <strong>does not</strong> accept a special function
                            overload like
                            <code class="gatsby-code-text">useState</code>.
                            Instead, you can write your own function that
                            creates and sets it lazily:
                          </p>
                          <div class="gatsby-highlight" data-language="jsx">
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Image</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> ref <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ‚úÖ IntersectionObserver is created lazily once</span>
<span class="token keyword">function</span> <span class="token function">getObserver</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>ref<span class="token punctuation">.</span>current <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
ref<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntersectionObserver</span><span class="token punctuation">(</span>onIntersect<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> ref<span class="token punctuation">.</span>current<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// When you need it, call getObserver()</span>
<span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            This avoids creating an expensive object until it‚Äôs
                            truly needed for the first time. If you use Flow or
                            TypeScript, you can also give
                            <code class="gatsby-code-text">getObserver()</code>
                            a non-nullable type for convenience.
                          </p>
                          <h3
                            id="are-hooks-slow-because-of-creating-functions-in-render"
                          >
                            <a
                              href="#are-hooks-slow-because-of-creating-functions-in-render"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >Are Hooks slow because of creating functions in
                            render?
                          </h3>
                          <p>
                            No. In modern browsers, the raw performance of
                            closures compared to classes doesn‚Äôt differ
                            significantly except in extreme scenarios.
                          </p>
                          <p>
                            In addition, consider that the design of Hooks is
                            more efficient in a couple ways:
                          </p>
                          <ul>
                            <li>
                              Hooks avoid a lot of the overhead that classes
                              require, like the cost of creating class instances
                              and binding event handlers in the constructor.
                            </li>
                            <li>
                              <strong
                                >Idiomatic code using Hooks doesn‚Äôt need the
                                deep component tree nesting</strong
                              >
                              that is prevalent in codebases that use
                              higher-order components, render props, and
                              context. With smaller component trees, React has
                              less work to do.
                            </li>
                          </ul>
                          <p>
                            Traditionally, performance concerns around inline
                            functions in React have been related to how passing
                            new callbacks on each render breaks
                            <code class="gatsby-code-text"
                              >shouldComponentUpdate</code
                            >
                            optimizations in child components. Hooks approach
                            this problem from three sides.
                          </p>
                          <ul>
                            <li>
                              <p>
                                The
                                <a href="/docs/hooks-reference.html#usecallback"
                                  ><code class="gatsby-code-text"
                                    >useCallback</code
                                  ></a
                                >
                                Hook lets you keep the same callback reference
                                between re-renders so that
                                <code class="gatsby-code-text"
                                  >shouldComponentUpdate</code
                                >
                                continues to work:
                              </p>
                              <div
                                class="gatsby-highlight has-highlighted-lines"
                                data-language="jsx"
                              >
                                <pre
                                  class="gatsby-code-jsx"
                                ><code class="gatsby-code-jsx"><span class="token comment">// Will not change unless `a` or `b` changes</span>
<span class="gatsby-highlight-code-line"><span class="token keyword">const</span> memoizedCallback <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>  <span class="token function">doSomething</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
                              </div>
                            </li>
                            <li>
                              The
                              <a
                                href="/docs/hooks-faq.html#how-to-memoize-calculations"
                                ><code class="gatsby-code-text"
                                  >useMemo</code
                                ></a
                              >
                              Hook makes it easier to control when individual
                              children update, reducing the need for pure
                              components.
                            </li>
                            <li>
                              Finally, the
                              <a href="/docs/hooks-reference.html#usereducer"
                                ><code class="gatsby-code-text"
                                  >useReducer</code
                                ></a
                              >
                              Hook reduces the need to pass callbacks deeply, as
                              explained below.
                            </li>
                          </ul>
                          <h3 id="how-to-avoid-passing-callbacks-down">
                            <a
                              href="#how-to-avoid-passing-callbacks-down"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >How to avoid passing callbacks down?
                          </h3>
                          <p>
                            We‚Äôve found that most people don‚Äôt enjoy manually
                            passing callbacks through every level of a component
                            tree. Even though it is more explicit, it can feel
                            like a lot of ‚Äúplumbing‚Äù.
                          </p>
                          <p>
                            In large component trees, an alternative we
                            recommend is to pass down a
                            <code class="gatsby-code-text">dispatch</code>
                            function from
                            <a href="/docs/hooks-reference.html#usereducer"
                              ><code class="gatsby-code-text"
                                >useReducer</code
                              ></a
                            >
                            via context:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">const</span> TodosDispatch <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">TodosApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token comment">// Note: `dispatch` won't change between re-renders</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>todos<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>todosReducer<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TodosDispatch.Provider</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>dispatch<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DeepTree</span></span> <span class="token attr-name">todos</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>todos<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text"></span>
<span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TodosDispatch.Provider</span></span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            Any child in the tree inside
                            <code class="gatsby-code-text">TodosApp</code> can
                            use the
                            <code class="gatsby-code-text">dispatch</code>
                            function to pass actions up to
                            <code class="gatsby-code-text">TodosApp</code>:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">DeepChild</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token comment">// If we want to perform an action, we can get dispatch from context.</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> dispatch <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>TodosDispatch<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'add'</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'hello'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">return</span> <span class="token punctuation">(</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Add todo</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            This is both more convenient from the maintenance
                            perspective (no need to keep forwarding callbacks),
                            and avoids the callback problem altogether. Passing
                            <code class="gatsby-code-text">dispatch</code> down
                            like this is the recommended pattern for deep
                            updates.
                          </p>
                          <p>
                            Note that you can still choose whether to pass the
                            application <em>state</em> down as props (more
                            explicit) or as context (more convenient for very
                            deep updates). If you use context to pass down the
                            state too, use two different context types ‚Äî the
                            <code class="gatsby-code-text">dispatch</code>
                            context never changes, so components that read it
                            don‚Äôt need to rerender unless they also need the
                            application state.
                          </p>
                          <h3
                            id="how-to-read-an-often-changing-value-from-usecallback"
                          >
                            <a
                              href="#how-to-read-an-often-changing-value-from-usecallback"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >How to read an often-changing value from
                            <code class="gatsby-code-text">useCallback</code>?
                          </h3>
                          <blockquote>
                            <p>Note</p>
                            <p>
                              We recommend to
                              <a href="#how-to-avoid-passing-callbacks-down"
                                >pass
                                <code class="gatsby-code-text">dispatch</code>
                                down in context</a
                              >
                              rather than individual callbacks in props. The
                              approach below is only mentioned here for
                              completeness and as an escape hatch.
                            </p>
                          </blockquote>
                          <p>
                            In some rare cases you might need to memoize a
                            callback with
                            <a href="/docs/hooks-reference.html#usecallback"
                              ><code class="gatsby-code-text"
                                >useCallback</code
                              ></a
                            >
                            but the memoization doesn‚Äôt work very well because
                            the inner function has to be re-created too often.
                            If the function you‚Äôre memoizing is an event handler
                            and isn‚Äôt used during rendering, you can use
                            <a
                              href="#is-there-something-like-instance-variables"
                              >ref as an instance variable</a
                            >, and save the last committed value into it
                            manually:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Form</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>text<span class="token punctuation">,</span> updateText<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> textRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    textRef<span class="token punctuation">.</span>current <span class="token operator">=</span> text<span class="token punctuation">;</span> <span class="token comment">// Write it to the ref</span></span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> handleSubmit <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> currentText <span class="token operator">=</span> textRef<span class="token punctuation">.</span>current<span class="token punctuation">;</span> <span class="token comment">// Read it from the ref</span></span>    <span class="token function">alert</span><span class="token punctuation">(</span>currentText<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>textRef<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Don't recreate handleSubmit like [text] would do</span>

<span class="token keyword">return</span> <span class="token punctuation">(</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>text<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">updateText</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ExpensiveTree</span></span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text"></span>
<span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            This is a rather convoluted pattern but it shows
                            that you can do this escape hatch optimization if
                            you need it. It‚Äôs more bearable if you extract it to
                            a custom Hook:
                          </p>
                          <div
                            class="gatsby-highlight has-highlighted-lines"
                            data-language="jsx"
                          >
                            <pre
                              class="gatsby-code-jsx"
                            ><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Form</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>text<span class="token punctuation">,</span> updateText<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Will be memoized even if `text` changes:</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> handleSubmit <span class="token operator">=</span> <span class="token function">useEventCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>    <span class="token function">alert</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>text<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token punctuation">(</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>text<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">updateText</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ExpensiveTree</span></span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text"></span>
<span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">function</span> <span class="token function">useEventCallback</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> dependencies</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>  <span class="token keyword">const</span> ref <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Cannot call an event handler while rendering.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
ref<span class="token punctuation">.</span>current <span class="token operator">=</span> fn<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>fn<span class="token punctuation">,</span> <span class="token operator">...</span>dependencies<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> fn <span class="token operator">=</span> ref<span class="token punctuation">.</span>current<span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>ref<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                          </div>
                          <p>
                            In either case, we
                            <strong>don‚Äôt recommend this pattern</strong> and
                            only show it here for completeness. Instead, it is
                            preferable to
                            <a href="#how-to-avoid-passing-callbacks-down"
                              >avoid passing callbacks deep down</a
                            >.
                          </p>
                          <h2 id="under-the-hood">
                            <a href="#under-the-hood" aria-hidden class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >Under the Hood
                          </h2>
                          <h3
                            id="how-does-react-associate-hook-calls-with-components"
                          >
                            <a
                              href="#how-does-react-associate-hook-calls-with-components"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >How does React associate Hook calls with
                            components?
                          </h3>
                          <p>
                            React keeps track of the currently rendering
                            component. Thanks to the
                            <a href="/docs/hooks-rules.html">Rules of Hooks</a>,
                            we know that Hooks are only called from React
                            components (or custom Hooks ‚Äî which are also only
                            called from React components).
                          </p>
                          <p>
                            There is an internal list of ‚Äúmemory cells‚Äù
                            associated with each component. They‚Äôre just
                            JavaScript objects where we can put some data. When
                            you call a Hook like
                            <code class="gatsby-code-text">useState()</code>, it
                            reads the current cell (or initializes it during the
                            first render), and then moves the pointer to the
                            next one. This is how multiple
                            <code class="gatsby-code-text">useState()</code>
                            calls each get independent local state.
                          </p>
                          <h3 id="what-is-the-prior-art-for-hooks">
                            <a
                              href="#what-is-the-prior-art-for-hooks"
                              aria-hidden
                              class="anchor"
                              ><svg
                                aria-hidden="true"
                                height="16"
                                version="1.1"
                                viewBox="0 0 16 16"
                                width="16"
                              >
                                <path
                                  fill-rule="evenodd"
                                  d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
                                ></path></svg></a
                            >What is the prior art for Hooks?
                          </h3>
                          <p>
                            Hooks synthesize ideas from several different
                            sources:
                          </p>
                          <ul>
                            <li>
                              Our old experiments with functional APIs in the
                              <a
                                href="https://github.com/reactjs/react-future/tree/master/07%20-%20Returning%20State"
                                target="_blank"
                                rel="nofollow noopener noreferrer"
                                >react-future</a
                              >
                              repository.
                            </li>
                            <li>
                              React community‚Äôs experiments with render prop
                              APIs, including
                              <a
                                href="https://github.com/ryanflorence"
                                target="_blank"
                                rel="nofollow noopener noreferrer"
                                >Ryan Florence</a
                              >‚Äôs
                              <a
                                href="https://github.com/reactions/component"
                                target="_blank"
                                rel="nofollow noopener noreferrer"
                                >Reactions Component</a
                              >.
                            </li>
                            <li>
                              <a
                                href="https://github.com/trueadm"
                                target="_blank"
                                rel="nofollow noopener noreferrer"
                                >Dominic Gannaway</a
                              >‚Äôs
                              <a
                                href="https://gist.github.com/trueadm/17beb64288e30192f3aa29cad0218067"
                                target="_blank"
                                rel="nofollow noopener noreferrer"
                                ><code class="gatsby-code-text">adopt</code>
                                keyword</a
                              >
                              proposal as a sugar syntax for render props.
                            </li>
                            <li>
                              State variables and state cells in
                              <a
                                href="http://displayscript.org/introduction.html"
                                target="_blank"
                                rel="nofollow noopener noreferrer"
                                >DisplayScript</a
                              >.
                            </li>
                            <li>
                              <a
                                href="https://reasonml.github.io/reason-react/docs/en/state-actions-reducer.html"
                                target="_blank"
                                rel="nofollow noopener noreferrer"
                                >Reducer components</a
                              >
                              in ReasonReact.
                            </li>
                            <li>
                              <a
                                href="http://reactivex.io/rxjs/class/es6/Subscription.js~Subscription.html"
                                target="_blank"
                                rel="nofollow noopener noreferrer"
                                >Subscriptions</a
                              >
                              in Rx.
                            </li>
                            <li>
                              <a
                                href="https://github.com/ocamllabs/ocaml-effects-tutorial#2-effectful-computations-in-a-pure-setting"
                                target="_blank"
                                rel="nofollow noopener noreferrer"
                                >Algebraic effects</a
                              >
                              in Multicore OCaml.
                            </li>
                          </ul>
                          <p>
                            <a
                              href="https://github.com/sebmarkbage"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >Sebastian Markb√•ge</a
                            >
                            came up with the original design for Hooks, later
                            refined by
                            <a
                              href="https://github.com/acdlite"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >Andrew Clark</a
                            >,
                            <a
                              href="https://github.com/sophiebits"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >Sophie Alpert</a
                            >,
                            <a
                              href="https://github.com/trueadm"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              >Dominic Gannaway</a
                            >, and other members of the React team.
                          </p>
                        </div>
                        <div class="css-1m173d1">
                          <span class="css-k7orbq"
                            ><span
                              >Is this page useful?<button
                                aria-label="Yes"
                                class="css-bbeeea"
                              >
                                <svg
                                  focusable="false"
                                  xmlns="http://www.w3.org/2000/svg"
                                  viewBox="0 0 81.13 89.76"
                                  class="css-15scox9"
                                >
                                  <path
                                    d="M22.9 6a18.57 18.57 0 002.67 8.4 25.72 25.72 0 008.65 7.66c3.86 2 8.67 7.13 13.51 11 3.86 3.11 8.57 7.11 11.54 8.45s13.59.26 14.64 1.17c1.88 1.63 1.55 9-.11 15.25-1.61 5.86-5.96 10.55-6.48 16.86-.4 4.83-2.7 4.88-10.93 4.88h-1.35c-3.82 0-8.24 2.93-12.92 3.62a68 68 0 01-9.73.5c-3.57 0-7.86-.08-13.25-.08-3.56 0-4.71-1.83-4.71-4.48h8.42a3.51 3.51 0 000-7H12.28a2.89 2.89 0 01-2.88-2.88 1.91 1.91 0 01.77-1.78h16.46a3.51 3.51 0 000-7H12.29c-3.21 0-4.84-1.83-4.84-4a6.41 6.41 0 011.17-3.78h19.06a3.5 3.5 0 100-7H9.75A3.51 3.51 0 016 42.27a3.45 3.45 0 013.75-3.48h13.11c5.61 0 7.71-3 5.71-5.52-4.43-4.74-10.84-12.62-11-18.71-.15-6.51 2.6-7.83 5.36-8.56m0-6a6.18 6.18 0 00-1.53.2c-6.69 1.77-10 6.65-9.82 14.5.08 5.09 2.99 11.18 8.52 18.09H9.74a9.52 9.52 0 00-6.23 16.9 12.52 12.52 0 00-2.07 6.84 9.64 9.64 0 003.65 7.7 7.85 7.85 0 00-1.7 5.13 8.9 8.9 0 005.3 8.13 6 6 0 00-.26 1.76c0 6.37 4.2 10.48 10.71 10.48h13.25a73.75 73.75 0 0010.6-.56 35.89 35.89 0 007.58-2.18 17.83 17.83 0 014.48-1.34h1.35c4.69 0 7.79 0 10.5-1 3.85-1.44 6-4.59 6.41-9.38.2-2.46 1.42-4.85 2.84-7.62a41.3 41.3 0 003.42-8.13 48 48 0 001.59-10.79c.1-5.13-1-8.48-3.35-10.55-2.16-1.87-4.64-1.87-9.6-1.88a46.86 46.86 0 01-6.64-.29c-1.92-.94-5.72-4-8.51-6.3l-1.58-1.28c-1.6-1.3-3.27-2.79-4.87-4.23-3.33-3-6.47-5.79-9.61-7.45a20.2 20.2 0 01-6.43-5.53 12.44 12.44 0 01-1.72-5.36 6 6 0 00-6-5.86z"
                                  ></path>
                                </svg></button
                              ><button aria-label="No" class="css-8ypg2d">
                                <svg
                                  xmlns="http://www.w3.org/2000/svg"
                                  viewBox="0 0 81.13 89.76"
                                  class="css-shr7pv"
                                >
                                  <path
                                    d="M22.9 6a18.57 18.57 0 002.67 8.4 25.72 25.72 0 008.65 7.66c3.86 2 8.67 7.13 13.51 11 3.86 3.11 8.57 7.11 11.54 8.45s13.59.26 14.64 1.17c1.88 1.63 1.55 9-.11 15.25-1.61 5.86-5.96 10.55-6.48 16.86-.4 4.83-2.7 4.88-10.93 4.88h-1.35c-3.82 0-8.24 2.93-12.92 3.62a68 68 0 01-9.73.5c-3.57 0-7.86-.08-13.25-.08-3.56 0-4.71-1.83-4.71-4.48h8.42a3.51 3.51 0 000-7H12.28a2.89 2.89 0 01-2.88-2.88 1.91 1.91 0 01.77-1.78h16.46a3.51 3.51 0 000-7H12.29c-3.21 0-4.84-1.83-4.84-4a6.41 6.41 0 011.17-3.78h19.06a3.5 3.5 0 100-7H9.75A3.51 3.51 0 016 42.27a3.45 3.45 0 013.75-3.48h13.11c5.61 0 7.71-3 5.71-5.52-4.43-4.74-10.84-12.62-11-18.71-.15-6.51 2.6-7.83 5.36-8.56m0-6a6.18 6.18 0 00-1.53.2c-6.69 1.77-10 6.65-9.82 14.5.08 5.09 2.99 11.18 8.52 18.09H9.74a9.52 9.52 0 00-6.23 16.9 12.52 12.52 0 00-2.07 6.84 9.64 9.64 0 003.65 7.7 7.85 7.85 0 00-1.7 5.13 8.9 8.9 0 005.3 8.13 6 6 0 00-.26 1.76c0 6.37 4.2 10.48 10.71 10.48h13.25a73.75 73.75 0 0010.6-.56 35.89 35.89 0 007.58-2.18 17.83 17.83 0 014.48-1.34h1.35c4.69 0 7.79 0 10.5-1 3.85-1.44 6-4.59 6.41-9.38.2-2.46 1.42-4.85 2.84-7.62a41.3 41.3 0 003.42-8.13 48 48 0 001.59-10.79c.1-5.13-1-8.48-3.35-10.55-2.16-1.87-4.64-1.87-9.6-1.88a46.86 46.86 0 01-6.64-.29c-1.92-.94-5.72-4-8.51-6.3l-1.58-1.28c-1.6-1.3-3.27-2.79-4.87-4.23-3.33-3-6.47-5.79-9.61-7.45a20.2 20.2 0 01-6.43-5.53 12.44 12.44 0 01-1.72-5.36 6 6 0 00-6-5.86z"
                                  ></path>
                                </svg></button></span></span
                          ><a
                            href="https://github.com/reactjs/reactjs.org/tree/main/content/docs/hooks-faq.md"
                            class="css-1epz0fh"
                            >Edit this page</a
                          >
                        </div>
                      </div>
                    </article>
                    <div class="css-1kbu8hg">
                      <div>
                        <div
                          style="opacity: 0; transition: opacity 0.5s ease"
                          class="css-1gf3j5r"
                        >
                          <div
                            style="
                              transform: translate(0px, 40px);
                              transition: transform 0.5s ease;
                            "
                            class="css-qobdsp"
                          >
                            <nav class="css-7stz2q css-1aai96l">
                              <div>
                                <button
                                  aria-expanded="false"
                                  aria-controls="section_0037874892675606064"
                                  class="css-1j8jxus"
                                >
                                  <div class="css-19nz7r4">
                                    Installation<svg
                                      viewBox="0 0 926.23699 573.74994"
                                      version="1.1"
                                      x="0px"
                                      y="0px"
                                      width="10"
                                      height="10"
                                      class="css-1jiuhrf"
                                    >
                                      <g
                                        transform="translate(904.92214,-879.1482)"
                                      >
                                        <path
                                          d="
    m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
    -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
    0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
    -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
    -174.68583 0.6895,0 26.281,25.03215 56.8701,
    55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
    -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
    -104.0616 -231.873,-231.248 z
  "
                                          fill="currentColor"
                                        ></path>
                                      </g>
                                    </svg>
                                  </div>
                                </button>
                                <ul
                                  id="section_0037874892675606064"
                                  class="css-14d3mgr"
                                >
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/getting-started.html"
                                      >Getting Started</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/add-react-to-a-website.html"
                                      >Add React to a Website</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/create-a-new-react-app.html"
                                      >Create a New React App</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/cdn-links.html"
                                      >CDN Links</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/release-channels.html"
                                      >Release Channels</a
                                    >
                                  </li>
                                </ul>
                              </div>
                              <div>
                                <button
                                  aria-expanded="false"
                                  aria-controls="section_0624508209552689"
                                  class="css-1j8jxus"
                                >
                                  <div class="css-19nz7r4">
                                    Main Concepts<svg
                                      viewBox="0 0 926.23699 573.74994"
                                      version="1.1"
                                      x="0px"
                                      y="0px"
                                      width="10"
                                      height="10"
                                      class="css-1jiuhrf"
                                    >
                                      <g
                                        transform="translate(904.92214,-879.1482)"
                                      >
                                        <path
                                          d="
    m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
    -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
    0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
    -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
    -174.68583 0.6895,0 26.281,25.03215 56.8701,
    55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
    -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
    -104.0616 -231.873,-231.248 z
  "
                                          fill="currentColor"
                                        ></path>
                                      </g>
                                    </svg>
                                  </div>
                                </button>
                                <ul
                                  id="section_0624508209552689"
                                  class="css-14d3mgr"
                                >
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/hello-world.html"
                                      >1. Hello World</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/introducing-jsx.html"
                                      >2. Introducing JSX</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/rendering-elements.html"
                                      >3. Rendering Elements</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/components-and-props.html"
                                      >4. Components and Props</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/state-and-lifecycle.html"
                                      >5. State and Lifecycle</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/handling-events.html"
                                      >6. Handling Events</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/conditional-rendering.html"
                                      >7. Conditional Rendering</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/lists-and-keys.html"
                                      >8. Lists and Keys</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/forms.html"
                                      >9. Forms</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/lifting-state-up.html"
                                      >10. Lifting State Up</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/composition-vs-inheritance.html"
                                      >11. Composition vs Inheritance</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/thinking-in-react.html"
                                      >12. Thinking In React</a
                                    >
                                  </li>
                                </ul>
                              </div>
                              <div>
                                <button
                                  aria-expanded="false"
                                  aria-controls="section_0406424402446252"
                                  class="css-1j8jxus"
                                >
                                  <div class="css-19nz7r4">
                                    Advanced Guides<svg
                                      viewBox="0 0 926.23699 573.74994"
                                      version="1.1"
                                      x="0px"
                                      y="0px"
                                      width="10"
                                      height="10"
                                      class="css-1jiuhrf"
                                    >
                                      <g
                                        transform="translate(904.92214,-879.1482)"
                                      >
                                        <path
                                          d="
    m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
    -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
    0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
    -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
    -174.68583 0.6895,0 26.281,25.03215 56.8701,
    55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
    -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
    -104.0616 -231.873,-231.248 z
  "
                                          fill="currentColor"
                                        ></path>
                                      </g>
                                    </svg>
                                  </div>
                                </button>
                                <ul
                                  id="section_0406424402446252"
                                  class="css-14d3mgr"
                                >
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/accessibility.html"
                                      >Accessibility</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/code-splitting.html"
                                      >Code-Splitting</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/context.html"
                                      >Context</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/error-boundaries.html"
                                      >Error Boundaries</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/forwarding-refs.html"
                                      >Forwarding Refs</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/fragments.html"
                                      >Fragments</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/higher-order-components.html"
                                      >Higher-Order Components</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/integrating-with-other-libraries.html"
                                      >Integrating with Other Libraries</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/jsx-in-depth.html"
                                      >JSX In Depth</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/optimizing-performance.html"
                                      >Optimizing Performance</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/portals.html"
                                      >Portals</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/profiler.html"
                                      >Profiler</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/react-without-es6.html"
                                      >React Without ES6</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/react-without-jsx.html"
                                      >React Without JSX</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/reconciliation.html"
                                      >Reconciliation</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/refs-and-the-dom.html"
                                      >Refs and the DOM</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/render-props.html"
                                      >Render Props</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/static-type-checking.html"
                                      >Static Type Checking</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/strict-mode.html"
                                      >Strict Mode</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/typechecking-with-proptypes.html"
                                      >Typechecking With PropTypes</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/uncontrolled-components.html"
                                      >Uncontrolled Components</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/web-components.html"
                                      >Web Components</a
                                    >
                                  </li>
                                </ul>
                              </div>
                              <div>
                                <button
                                  aria-expanded="false"
                                  aria-controls="section_027339347552661963"
                                  class="css-1j8jxus"
                                >
                                  <div class="css-19nz7r4">
                                    API Reference<svg
                                      viewBox="0 0 926.23699 573.74994"
                                      version="1.1"
                                      x="0px"
                                      y="0px"
                                      width="10"
                                      height="10"
                                      class="css-1jiuhrf"
                                    >
                                      <g
                                        transform="translate(904.92214,-879.1482)"
                                      >
                                        <path
                                          d="
    m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
    -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
    0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
    -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
    -174.68583 0.6895,0 26.281,25.03215 56.8701,
    55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
    -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
    -104.0616 -231.873,-231.248 z
  "
                                          fill="currentColor"
                                        ></path>
                                      </g>
                                    </svg>
                                  </div>
                                </button>
                                <ul
                                  id="section_027339347552661963"
                                  class="css-14d3mgr"
                                >
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/react-api.html"
                                      >React</a
                                    >
                                    <ul class="css-140tz9x">
                                      <li>
                                        <a
                                          class="css-19pur11"
                                          href="/docs/react-component.html"
                                          >React.Component</a
                                        >
                                      </li>
                                    </ul>
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/react-dom.html"
                                      >ReactDOM</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/react-dom-client.html"
                                      >ReactDOMClient</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/react-dom-server.html"
                                      >ReactDOMServer</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/dom-elements.html"
                                      >DOM Elements</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/events.html"
                                      >SyntheticEvent</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/test-utils.html"
                                      >Test Utilities</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/test-renderer.html"
                                      >Test Renderer</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/javascript-environment-requirements.html"
                                      >JS Environment Requirements</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/glossary.html"
                                      >Glossary</a
                                    >
                                  </li>
                                </ul>
                              </div>
                              <div>
                                <button
                                  aria-expanded="true"
                                  aria-controls="section_09791583825653578"
                                  class="css-1j8jxus"
                                >
                                  <div class="css-qa0wkv">
                                    Hooks<svg
                                      viewBox="0 0 926.23699 573.74994"
                                      version="1.1"
                                      x="0px"
                                      y="0px"
                                      width="10"
                                      height="10"
                                      class="css-1mwek35"
                                    >
                                      <g
                                        transform="translate(904.92214,-879.1482)"
                                      >
                                        <path
                                          d="
    m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
    -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
    0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
    -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
    -174.68583 0.6895,0 26.281,25.03215 56.8701,
    55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
    -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
    -104.0616 -231.873,-231.248 z
  "
                                          fill="currentColor"
                                        ></path>
                                      </g>
                                    </svg>
                                  </div>
                                </button>
                                <ul
                                  id="section_09791583825653578"
                                  class="css-ts0qly"
                                >
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/hooks-intro.html"
                                      >1. Introducing Hooks</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/hooks-overview.html"
                                      >2. Hooks at a Glance</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/hooks-state.html"
                                      >3. Using the State Hook</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/hooks-effect.html"
                                      >4. Using the Effect Hook</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/hooks-rules.html"
                                      >5. Rules of Hooks</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/hooks-custom.html"
                                      >6. Building Your Own Hooks</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/hooks-reference.html"
                                      >7. Hooks API Reference</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      aria-current="page"
                                      class="css-1b7a3df"
                                      href="/docs/hooks-faq.html"
                                      ><span class="css-ifgy4z"></span>8. Hooks
                                      FAQ</a
                                    >
                                  </li>
                                </ul>
                              </div>
                              <div>
                                <button
                                  aria-expanded="false"
                                  aria-controls="section_0866733477780852"
                                  class="css-1j8jxus"
                                >
                                  <div class="css-19nz7r4">
                                    Testing<svg
                                      viewBox="0 0 926.23699 573.74994"
                                      version="1.1"
                                      x="0px"
                                      y="0px"
                                      width="10"
                                      height="10"
                                      class="css-1jiuhrf"
                                    >
                                      <g
                                        transform="translate(904.92214,-879.1482)"
                                      >
                                        <path
                                          d="
    m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
    -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
    0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
    -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
    -174.68583 0.6895,0 26.281,25.03215 56.8701,
    55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
    -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
    -104.0616 -231.873,-231.248 z
  "
                                          fill="currentColor"
                                        ></path>
                                      </g>
                                    </svg>
                                  </div>
                                </button>
                                <ul
                                  id="section_0866733477780852"
                                  class="css-14d3mgr"
                                >
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/testing.html"
                                      >Testing Overview</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/testing-recipes.html"
                                      >Testing Recipes</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/testing-environments.html"
                                      >Testing Environments</a
                                    >
                                  </li>
                                </ul>
                              </div>
                              <div>
                                <button
                                  aria-expanded="false"
                                  aria-controls="section_06669256672450599"
                                  class="css-1j8jxus"
                                >
                                  <div class="css-19nz7r4">
                                    Contributing<svg
                                      viewBox="0 0 926.23699 573.74994"
                                      version="1.1"
                                      x="0px"
                                      y="0px"
                                      width="10"
                                      height="10"
                                      class="css-1jiuhrf"
                                    >
                                      <g
                                        transform="translate(904.92214,-879.1482)"
                                      >
                                        <path
                                          d="
    m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
    -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
    0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
    -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
    -174.68583 0.6895,0 26.281,25.03215 56.8701,
    55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
    -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
    -104.0616 -231.873,-231.248 z
  "
                                          fill="currentColor"
                                        ></path>
                                      </g>
                                    </svg>
                                  </div>
                                </button>
                                <ul
                                  id="section_06669256672450599"
                                  class="css-14d3mgr"
                                >
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/how-to-contribute.html"
                                      >How to Contribute</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/codebase-overview.html"
                                      >Codebase Overview</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/implementation-notes.html"
                                      >Implementation Notes</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/design-principles.html"
                                      >Design Principles</a
                                    >
                                  </li>
                                </ul>
                              </div>
                              <div>
                                <button
                                  aria-expanded="false"
                                  aria-controls="section_05709128887676687"
                                  class="css-1j8jxus"
                                >
                                  <div class="css-19nz7r4">
                                    FAQ<svg
                                      viewBox="0 0 926.23699 573.74994"
                                      version="1.1"
                                      x="0px"
                                      y="0px"
                                      width="10"
                                      height="10"
                                      class="css-1jiuhrf"
                                    >
                                      <g
                                        transform="translate(904.92214,-879.1482)"
                                      >
                                        <path
                                          d="
    m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
    -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
    0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
    -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
    -174.68583 0.6895,0 26.281,25.03215 56.8701,
    55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
    -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
    -104.0616 -231.873,-231.248 z
  "
                                          fill="currentColor"
                                        ></path>
                                      </g>
                                    </svg>
                                  </div>
                                </button>
                                <ul
                                  id="section_05709128887676687"
                                  class="css-14d3mgr"
                                >
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/faq-ajax.html"
                                      >AJAX and APIs</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/faq-build.html"
                                      >Babel, JSX, and Build Steps</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/faq-functions.html"
                                      >Passing Functions to Components</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/faq-state.html"
                                      >Component State</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/faq-styling.html"
                                      >Styling and CSS</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/faq-structure.html"
                                      >File Structure</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/faq-versioning.html"
                                      >Versioning Policy</a
                                    >
                                  </li>
                                  <li class="css-atv6j6">
                                    <a
                                      class="css-19pur11"
                                      href="/docs/faq-internals.html"
                                      >Virtual DOM and Internals</a
                                    >
                                  </li>
                                </ul>
                              </div>
                            </nav>
                          </div>
                        </div>
                        <div role="button" tabindex="0" class="css-yx40kw">
                          <div class="css-tctv7l">
                            <div class="css-7ef8f8">
                              <div class="css-1dgtft4">
                                <svg
                                  viewBox="0 0 926.23699 573.74994"
                                  version="1.1"
                                  x="0px"
                                  y="0px"
                                  width="15"
                                  height="15"
                                  class="css-sg9l1i"
                                >
                                  <g transform="translate(904.92214,-879.1482)">
                                    <path
                                      d="
    m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
    -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
    0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
    -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
    -174.68583 0.6895,0 26.281,25.03215 56.8701,
    55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
    -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
    -104.0616 -231.873,-231.248 z
  "
                                      fill="currentColor"
                                    ></path>
                                  </g></svg
                                ><svg
                                  viewBox="0 0 926.23699 573.74994"
                                  version="1.1"
                                  x="0px"
                                  y="0px"
                                  width="15"
                                  height="15"
                                  class="css-o1zbu3"
                                >
                                  <g transform="translate(904.92214,-879.1482)">
                                    <path
                                      d="
    m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
    -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
    0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
    -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
    -174.68583 0.6895,0 26.281,25.03215 56.8701,
    55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
    -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
    -104.0616 -231.873,-231.248 z
  "
                                      fill="currentColor"
                                    ></path>
                                  </g>
                                </svg>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="css-uygc5k">
                <div class="css-tctv7l">
                  <ul class="css-15o825x css-lhap5">
                    <li class="css-k2v7we">
                      <div>
                        <div class="css-i3b7x6">Previous article</div>
                        <div class="css-1gz2d9j">
                          <a
                            class="css-1k1lek8"
                            href="/docs/hooks-reference.html"
                            >Hooks API Reference</a
                          >
                        </div>
                      </div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <footer class="css-vn0yrr">
            <div class="css-tctv7l">
              <div class="css-ftk3jl">
                <div class="css-1q9mcvr">
                  <div class="css-12bsqfj">
                    <div class="css-1m3wp4q">
                      <div class="css-krwajx">Docs</div>
                      <a class="css-8l81zy" href="/docs/getting-started.html"
                        >Installation</a
                      ><a class="css-8l81zy" href="/docs/hello-world.html"
                        >Main Concepts</a
                      ><a class="css-8l81zy" href="/docs/accessibility.html"
                        >Advanced Guides</a
                      ><a class="css-8l81zy" href="/docs/react-api.html"
                        >API Reference</a
                      ><a class="css-8l81zy" href="/docs/hooks-intro.html"
                        >Hooks</a
                      ><a class="css-8l81zy" href="/docs/testing.html"
                        >Testing</a
                      ><a class="css-8l81zy" href="/docs/how-to-contribute.html"
                        >Contributing</a
                      ><a class="css-8l81zy" href="/docs/faq-ajax.html">FAQ</a>
                    </div>
                  </div>
                  <div class="css-12bsqfj">
                    <div class="css-1m3wp4q">
                      <div class="css-krwajx">Channels</div>
                      <a
                        href="https://github.com/facebook/react"
                        target="_blank"
                        rel="noopener"
                        class="css-8l81zy"
                        >GitHub<svg
                          x="0px"
                          y="0px"
                          viewBox="0 0 100 100"
                          width="15"
                          height="15"
                          class="css-83uoqv"
                        >
                          <path
                            fill="currentColor"
                            d="
M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
"
                          ></path>
                          <polygon
                            fill="currentColor"
                            points="
45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
14.9 62.8,22.9 71.5,22.9
"
                          ></polygon></svg></a
                      ><a
                        href="https://stackoverflow.com/questions/tagged/reactjs"
                        target="_blank"
                        rel="noopener"
                        class="css-8l81zy"
                        >Stack Overflow<svg
                          x="0px"
                          y="0px"
                          viewBox="0 0 100 100"
                          width="15"
                          height="15"
                          class="css-83uoqv"
                        >
                          <path
                            fill="currentColor"
                            d="
M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
"
                          ></path>
                          <polygon
                            fill="currentColor"
                            points="
45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
14.9 62.8,22.9 71.5,22.9
"
                          ></polygon></svg></a
                      ><a
                        href="https://reactjs.org/community/support.html#popular-discussion-forums"
                        target="_blank"
                        rel="noopener"
                        class="css-8l81zy"
                        >Discussion Forums<svg
                          x="0px"
                          y="0px"
                          viewBox="0 0 100 100"
                          width="15"
                          height="15"
                          class="css-83uoqv"
                        >
                          <path
                            fill="currentColor"
                            d="
M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
"
                          ></path>
                          <polygon
                            fill="currentColor"
                            points="
45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
14.9 62.8,22.9 71.5,22.9
"
                          ></polygon></svg></a
                      ><a
                        href="https://discord.gg/reactiflux"
                        target="_blank"
                        rel="noopener"
                        class="css-8l81zy"
                        >Reactiflux Chat<svg
                          x="0px"
                          y="0px"
                          viewBox="0 0 100 100"
                          width="15"
                          height="15"
                          class="css-83uoqv"
                        >
                          <path
                            fill="currentColor"
                            d="
M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
"
                          ></path>
                          <polygon
                            fill="currentColor"
                            points="
45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
14.9 62.8,22.9 71.5,22.9
"
                          ></polygon></svg></a
                      ><a
                        href="https://dev.to/t/react"
                        target="_blank"
                        rel="noopener"
                        class="css-8l81zy"
                        >DEV Community<svg
                          x="0px"
                          y="0px"
                          viewBox="0 0 100 100"
                          width="15"
                          height="15"
                          class="css-83uoqv"
                        >
                          <path
                            fill="currentColor"
                            d="
M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
"
                          ></path>
                          <polygon
                            fill="currentColor"
                            points="
45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
14.9 62.8,22.9 71.5,22.9
"
                          ></polygon></svg></a
                      ><a
                        href="https://www.facebook.com/react"
                        target="_blank"
                        rel="noopener"
                        class="css-8l81zy"
                        >Facebook<svg
                          x="0px"
                          y="0px"
                          viewBox="0 0 100 100"
                          width="15"
                          height="15"
                          class="css-83uoqv"
                        >
                          <path
                            fill="currentColor"
                            d="
M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
"
                          ></path>
                          <polygon
                            fill="currentColor"
                            points="
45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
14.9 62.8,22.9 71.5,22.9
"
                          ></polygon></svg></a
                      ><a
                        href="https://twitter.com/reactjs"
                        target="_blank"
                        rel="noopener"
                        class="css-8l81zy"
                        >Twitter<svg
                          x="0px"
                          y="0px"
                          viewBox="0 0 100 100"
                          width="15"
                          height="15"
                          class="css-83uoqv"
                        >
                          <path
                            fill="currentColor"
                            d="
M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
"
                          ></path>
                          <polygon
                            fill="currentColor"
                            points="
45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
14.9 62.8,22.9 71.5,22.9
"
                          ></polygon></svg
                      ></a>
                    </div>
                  </div>
                  <div class="css-12bsqfj">
                    <div class="css-1m3wp4q">
                      <div class="css-krwajx">Community</div>
                      <a
                        href="https://github.com/facebook/react/blob/main/CODE_OF_CONDUCT.md"
                        class="css-8l81zy"
                        >Code of Conduct<svg
                          x="0px"
                          y="0px"
                          viewBox="0 0 100 100"
                          width="15"
                          height="15"
                          class="css-83uoqv"
                        >
                          <path
                            fill="currentColor"
                            d="
M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
"
                          ></path>
                          <polygon
                            fill="currentColor"
                            points="
45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
14.9 62.8,22.9 71.5,22.9
"
                          ></polygon></svg></a
                      ><a class="css-8l81zy" href="/community/support.html"
                        >Community Resources</a
                      >
                    </div>
                  </div>
                  <div class="css-12bsqfj">
                    <div class="css-1m3wp4q">
                      <div class="css-krwajx">More</div>
                      <a class="css-8l81zy" href="/tutorial/tutorial.html"
                        >Tutorial</a
                      ><a class="css-8l81zy" href="/blog">Blog</a
                      ><a class="css-8l81zy" href="/acknowledgements.html"
                        >Acknowledgements</a
                      ><a
                        href="https://reactnative.dev/"
                        target="_blank"
                        rel="noopener"
                        class="css-8l81zy"
                        >React Native<svg
                          x="0px"
                          y="0px"
                          viewBox="0 0 100 100"
                          width="15"
                          height="15"
                          class="css-83uoqv"
                        >
                          <path
                            fill="currentColor"
                            d="
M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
"
                          ></path>
                          <polygon
                            fill="currentColor"
                            points="
45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
14.9 62.8,22.9 71.5,22.9
"
                          ></polygon></svg></a
                      ><a
                        href="https://opensource.facebook.com/legal/privacy"
                        class="css-8l81zy"
                        >Privacy<svg
                          x="0px"
                          y="0px"
                          viewBox="0 0 100 100"
                          width="15"
                          height="15"
                          class="css-83uoqv"
                        >
                          <path
                            fill="currentColor"
                            d="
M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
"
                          ></path>
                          <polygon
                            fill="currentColor"
                            points="
45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
14.9 62.8,22.9 71.5,22.9
"
                          ></polygon></svg></a
                      ><a
                        href="https://opensource.facebook.com/legal/terms"
                        class="css-8l81zy"
                        >Terms<svg
                          x="0px"
                          y="0px"
                          viewBox="0 0 100 100"
                          width="15"
                          height="15"
                          class="css-83uoqv"
                        >
                          <path
                            fill="currentColor"
                            d="
M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
"
                          ></path>
                          <polygon
                            fill="currentColor"
                            points="
45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
14.9 62.8,22.9 71.5,22.9
"
                          ></polygon></svg
                      ></a>
                    </div>
                  </div>
                </div>
                <section class="css-1ac8j74">
                  <a
                    href="https://opensource.facebook.com/projects/"
                    target="_blank"
                    rel="noopener"
                    ><img
                      alt="Facebook Open Source"
                      src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVQAAABaCAMAAADQMV5DAAAC3FBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+GTFYVAAAA9HRSTlMAG7O/KQR48v/+hA5W2+piObG8RBSU/fehIG7stSWl9nkIStbYU0XN4FUvrHoDcOi3OAuLmheOmRVm4rtBNbDucsnfXlDUJpuGB3vtM3+mHBKMEF3FSDzmaMLpWN7PRh2XkAaAo3X4riuiBctS3WAxtvFxEWTkxD4YbKirjzr7H/W5MIHKvrKtyCh3AUsNuKnHaxNOzPlMqqTGn++vniOTCSJJzhZAfKfAhSEuLWU/jSyDwU9DiJY3X9JzujJRRwIewzRnhzZZtFpNkldcvSRbPVQ7KicMDxoZkXagidWCb20K2dflYZ2KleGc0WrQ2vD8mH5p7f+VowAADPFJREFUeAHs0AN7Y2EYhOGJbVu1bdu22+3axp/fYurGyeX3PvZ3HuRFoVSpUU5Co9Xp9QajCaJszBb9NasN5SHsDv0dpwuidG4Pc3p93PoDKJEIhtgyHFFEuReLJ1ACkUwxZEUlLlVV86imFsUSdfWMqGtoBDU180xLK4oh2tr11NH54GSXnrp7UDDR28d6/QN4ZHCI54dHUBgxMMp0Y+N4ZmKS11ITEPmbmmY238ws0pmb5/X6BYj8NC7qaWkZGaxM62l1DSIP6xb22thEFlv9vGt7ByIX+y5j7fUih/0D3nl4BJHN8YmeTleQ09mLGG8+n4LI6OUrVnr9BnlRvNWT8R1EWuZDFnr/AXnbVPGZj58gnvv8hXm+fkM63yNTPUjnx08+9+s3xGOd7Xo6+YPnFv6u/rto1z6A28buPI7/7rBK/nPrXuaCnFaTlcej8eqC9CpbN6KxfcFk30pO4SFVinQjD73VReIWw0XyWc2RL+ICWHtN+1kuKe7l3L1nuvvikmx6771Mr8c8yhhAwAmUwCxT+HHlGzyXr0EP+fivfLwzpTwLvzsffW5k6/NwKXvjCySsNOAnr2pcvWZtV9f0Gau7H10Hv7taSXjuP9djRFnPahImL4Rf79S+7s54R1dlZWtHvH+gbsNn4Te4kYQ5CZQJbyDhvx5CgM8NbVybjs94sdI01zau6Wiur2mdhAArLBLq8Wen2pgAWZLxGiLhpU3wW/Du1Sur0m9t3/y5+15+eUvm0YG6dNXjWz+xDH7bNpOAsenkNqE8GmECOHG8hp4hoqWL4Ld8+9Klw812zfSE8zSvrcndtzsadu6C3+7HiegZjI0kzcX4m476efh8KlnfXpvu6J7R8i447lzR19CfHuru+0IvfGYVElWD199w1C9itI/9x9bK5viahi/tgceWvd374um1NZ37MdoeT9Ry1AOj+xxcPaMqXbn6pWr48EMb+9JVK1d/8jC87ilHHSvq+z4y0JHuan/8CAIlWrfWNw8vHWgpUlSW1DSVAZCZs6RqSQMOOaklZU9UruVXHIxrigH/ij8qk0sR9dNH69PxpTse+gAQbNZ/H+vOVb/3HcWIykwSNAbbhmBIZEkxsjR2+2FMskjiTlTVEltMhhGGTSR2BK14ozLdLkHUD8/paH5rzewlGMO6dzQcSw8f3R49qhGzNBmQFUtnkiSWkiQZAOQU6fLthyJtciSqmd+iWZYBzw7N0pl/xROV6Tp77aMeb+9q3tF6AiFO9n+kuf/oyYhRnb+j+Fk+qkoK8gxLAwwykWdasoiq3G4p6xbL79CcHXrwiogarWmEqKfMHc3H1p5GqKeqpHRdvCJiVE2EEliMJADMsuEmSXAuMEVUMpAngnt3GKQFroio0ZpGiLps9fBQwz0owOl9drxmcJxR3VQAVgoOVURVSIaLIS7LU4gBGmlwmDR6h2n5V5yoomkJorY0xM88BK/eLW1nz35+E4PXKw3xpf9TeFTfOyoGcDIAhyV57kxBI3dgDmiuLaKVd4cavCIuFE1LELXiPSv7G4/DjZ3bn01MmpTInnjbLLjJdbX19dsiPP09yURP/yW2zgWBNO+W/NWWZwcpASsiKtNJRiminj7funaYweW+eRcGM9U5mYuJRBvcLh3r33H2zxxVIjclKCppYSsiKtN1SypJ1Pse73r8/grAseex/U2ZE5dzFmeaBq94buJVOzqvHo8UVSE2OqqVGnWnws0XVQFi7h0seIWTqutMJbMUUTedb600X4Zj02MXm/ZnZ+6+dm3P/Kza1HPkDsDxT1LnjCWRohqkwsFIAmDH/Nm9UTkcKhliR+gKJ/HSSqFk6aP2ztvftHjuulPIWX9tcG7T4GUGx87IUWFJrn4iapK4N3tydFQTDjM2eocUvMJJZ2IDGSWPevx/m/bPfS9GsMVqU/bLRYzquXUMK184pjNnyQBsy3nIDBHVSnqKe3aopPpXPC/+LbnEUd8+OJi5cA2Of0hU91z/YDGjQrqdiFuaJIlSrveaKYBZuuy8gRJRk2KLuFLCqB2WGbTiRBW/HCtt1OezmRMz4XLjeiZ7X1GjMomkJOdJm1KQbjeyNA6WlCglHupWioPxFIm6GiEptqgmSQyuHbJqix1BK05UGJZZ2qg3E9WJm3C5lq2etCBCVF2FT1KnHIkDKRsC02KUY3PkKeIKPSkeqDFxBJUTEwuuHZbYEbgiW4bz+1mljfrIpOrENbgsv95zfVGEqMFkzhm8GDfgZhjw4lwevUNG2IqjlFHP5qJu8oyyhEYtC4u6J1GdXQeXTbmn/7ly1EhR5Wxm8XzPUPC86uyt6FEZ5xzFxDmX/1qifkW9mLkgw7Et0dMzaVbEqHIqlp/BVliRitr0J7GU/FcRFQuyGVVlzsvWi4ubLnNEi6pYlpnknCsSWSqKIEW6wjlPmkTaX0XUryYGT849sQvCBy7Oa7qY/Wy0qCaZDHlcpyQiS5KCPNkm5a8hKm5d6WlSLy+649Wv3Xp20uKm6oW7Ix2oIOXuyMwiVI3ZcBgMBSj90d+ShYNN1dcvX8997Wm6+Ni00Ud/j4wrqkoa3KK/EzdIRQQlOqTeMy/Rk6nu6anO9FxOLIHb148NSeM7pI5J8JDJdOYb/AMShiKGLAQxaMEVjbPw0RPfbIUBh8ycBaZqLGx0oyhRK+7v619qwG3WsuvZSdevT8pO4l+D2+m6Wnv68vFE5aTCyyQGQLMCBiTUGOkSkSmLR7b9pwVJIkp5ssqkwMc3SWHgNslGjqUAmkXEw0Y3ihIV3+iOn3kdvN5739lFi87dehe8nu6Of2R8H/ylLP+zNxk8IAGTUrJIm1+QpJHDKcXS4SZZBhwhkxTO54qkwSRTlUNHN4oTdf7G4c6GNhTg1X12la6OK6pkYzRLCx6QUCjpDFmIrSJuPpEGR/48isERPEnhj5qyOMJHN4oUtcJck65r/ThCsW/uSB8bfnBcUUnzd5YQPCCheW9m587xfeBiSES2xiEET1L4o4r7O3x0o0hRsUCvbd5nfwwhlg2dae6fk0GRovoHJJj3sz+JXM9uAx7cjBGRLaoHT1L4oorfMHx0o1hRseHe3IBa+7cMjOHWqsa6dHyrhmJEDRuQUMiJ4VwwmqymYhQT64GTFL6oIlj46EaxouKBe+ubO5Yufd17EQy9b7zaPdTc9e1LEKL+nxo4IGFyh0I8LKqgxkhF8CSFL6r4Pnx0o3hRsWLHi8NVte32hTcjyOLhGrsq/pGlb6oYb1TTCn7t7o9KHkZBUcFiMQRPUviiimvCRzeKGBW7L23Mjae/deM3vwifw4dqjuXG0ze+c9r4x9NVSsIrZTF/VMU3UlFYVCTJCJ6kCI4aOroRKep8jKZ+s+Yf03Hpxe+0wWPLmxr3xdP17f0JjPb5Qt5RxeDBLBPBAxL6RKJy4v5JCu8G3RM1ZHQjUtR18Kn4wlvba5uHGqTvMjgefF9dQ2d6aGDN974PH1bQe/+UN5XFggckFJInEFUl2T9J4XnXxcgTNWR0I1LUlW+D3y5tx5l42t46NHc98nqaa6ZXVe1ofOAm/Nr6C4gKkxTPIxUIHJBgrlMCWR4jqiQxT8LA2QpdxwjNGzVkdGPCSPj6LPide0/Nyqp0X83sk/Ldd3/8wJfaZ1SlH9ffwOH34E4SEF7VlpEnS6Jf8IAEd04BuGWPETVJMdXzbxQ0W6GScnvB+/QPGd2YsH4SpqxAgHnD7fXpeF3jdNO0l64ZTnfVdB15M/ySMRLOI5RGlD/5tynGIQQOSKhWTDHEOITJxogqDkBSKudciVEycJJC5DY5wE3LkDxRQ0Y3Ju76D0j4YQ/8vr9hTXdnVYddWWl3VA0N7GiZBb8vD5Dwox9jYp9RaRQ0IJFyj1SIQQvfYITAbYucK4MmKZyJDVNGykROfjAjdHQjglPbX09CRxv87th7pv2Y3TnUtbJ96TuWwG/XT0h47uCdwMQ+TdUoeEACzkL4OAYPm6TwjmeEj25Ete0lyvvp3fBb0PKz6TPWnP/Ev95AgO3PkTB0FyZMI/wtmjmDhJ8/jSAfv2fJrvUIkJ1DwsB+oBzV58i/k9BwAAU7d4yEf/kegpSj4lM7P0PCL9ahIK9+kvI2z0I0agx/s+QhyltVgXBPfoaEx9tQNpbMAAmTryCEupWEX15HWZhXppCw420YQ9taEl5oQQHKPvhuypv96v97yU8p7/7nUZiym10k/PM3EOhX/0ZC3WEUruzEVhJ+fR0+TWdI+M2PMT5lLb8lodKAx7U4Cb9bhXEr+9rvKe9b2+D4yh9+R0LzXZiIsuPHSHj9BoxY+BYSBpZhosqu/IaE7owYn6gj4Zk/oiwC5wiq9r3f/wXlHXwZZdFs+iYJD3+IhM7dKIvuxkfIofegrDj++HMSPtqCsqKp+JY44Hs7yorp5rHGZ1Gosv8DnDgXp7vdFQUAAAAASUVORK5CYII="
                      class="css-1izr7si"
                  /></a>
                  <p class="css-1yy5aal">
                    Copyright ¬© 2022 Meta Platforms, Inc.
                  </p>
                </section>
              </div>
            </div>
          </footer>
        </div>
      </div>
      <div
        id="gatsby-announcer"
        style="
          position: absolute;
          top: 0;
          width: 1px;
          height: 1px;
          padding: 0;
          overflow: hidden;
          clip: rect(0, 0, 0, 0);
          white-space: nowrap;
          border: 0;
        "
        aria-live="assertive"
        aria-atomic="true"
      ></div>
    </div>
    <script>
      if (true) {
        ;(function (i, s, o, g, r, a, m) {
          i['GoogleAnalyticsObject'] = r
          ;(i[r] =
            i[r] ||
            function () {
              ;(i[r].q = i[r].q || []).push(arguments)
            }),
            (i[r].l = 1 * new Date())
          ;(a = s.createElement(o)), (m = s.getElementsByTagName(o)[0])
          a.async = 1
          a.src = g
          m.parentNode.insertBefore(a, m)
        })(
          window,
          document,
          'script',
          'https://www.google-analytics.com/analytics.js',
          'ga'
        )
      }
      if (typeof ga === 'function') {
        ga('create', 'UA-41298772-1', 'auto', {})
      }
    </script>
    <script id="gatsby-script-loader">
      /*<![CDATA[*/ window.pagePath = '/docs/hooks-faq.html' /*]]>*/
    </script>
    <script id="gatsby-chunk-mapping">
      /*<![CDATA[*/ window.___chunkMapping = {
        polyfill: ['/polyfill-ecc6e43965b3d365850d.js'],
        app: ['/app-2df1f227eb428bce692c.js'],
        'component---src-pages-404-js': [
          '/component---src-pages-404-js-dc2d3db5b58ed3161987.js'
        ],
        'component---src-pages-acknowledgements-html-js': [
          '/component---src-pages-acknowledgements-html-js-99c1d5f19339f84ab8d5.js'
        ],
        'component---src-pages-blog-all-html-js': [
          '/component---src-pages-blog-all-html-js-ff3a6804977126f37ef8.js'
        ],
        'component---src-pages-docs-error-decoder-html-js': [
          '/component---src-pages-docs-error-decoder-html-js-06abc2ee5991ef924a51.js'
        ],
        'component---src-pages-index-js': [
          '/component---src-pages-index-js-e1c657bf9846e687bdfd.js'
        ],
        'component---src-pages-jsx-compiler-html-js': [
          '/component---src-pages-jsx-compiler-html-js-9375e47f015bc289e845.js'
        ],
        'component---src-pages-languages-js': [
          '/component---src-pages-languages-js-2454110c30939f6d80fd.js'
        ],
        'component---src-pages-versions-js': [
          '/component---src-pages-versions-js-03ca26e376059191bea7.js'
        ],
        'component---src-templates-blog-js': [
          '/component---src-templates-blog-js-828e7bc4599657e12fb6.js'
        ],
        'component---src-templates-codepen-example-js': [
          '/component---src-templates-codepen-example-js-3932ae4f8447dfb87d48.js'
        ],
        'component---src-templates-community-js': [
          '/component---src-templates-community-js-0511cf21162c121d194d.js'
        ],
        'component---src-templates-docs-js': [
          '/component---src-templates-docs-js-6840d61b2cd677441a9b.js'
        ],
        'component---src-templates-tutorial-js': [
          '/component---src-templates-tutorial-js-127212dad93197d83688.js'
        ]
      } /*]]>*/
    </script>
    <script src="/polyfill-ecc6e43965b3d365850d.js" nomodule=""></script>
    <script
      src="/component---src-templates-docs-js-6840d61b2cd677441a9b.js"
      async=""
    ></script>
    <script
      src="/1ed44328c19c4a4d76fd533f20afa4a4705f4d6f-c1173be5e81076a4df6b.js"
      async=""
    ></script>
    <script
      src="/3e8f09252b6028beb8baf8cc63801156f5861675-a30b52c415707d90ab94.js"
      async=""
    ></script>
    <script src="/commons-7474e6bcdbfccb45e253.js" async=""></script>
    <script src="/app-2df1f227eb428bce692c.js" async=""></script>
    <script src="/framework-ff9c508ebfda0f33cb0b.js" async=""></script>
    <script src="/styles-fb708593b484b04b1765.js" async=""></script>
    <script src="/webpack-runtime-5dafb0a0605bec4435d2.js" async=""></script>
    <script src="https://unpkg.com/docsearch.js@2.4.1/dist/cdn/docsearch.min.js"></script>
  </body>
</html>
